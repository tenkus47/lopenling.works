/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkteminusclient"] = self["webpackChunkteminusclient"] || []).push([["default-app_components_TextDetail_SplitText_js-app_components_TextDetail_AddButton_css-app_co-5ab619"],{

/***/ "./app/components/TextDetail/SplitText.js":
/*!************************************************!*\
  !*** ./app/components/TextDetail/SplitText.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SplitTextComponent)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_virtualized_dist_es_AutoSizer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-virtualized/dist/es/AutoSizer */ \"./node_modules/react-virtualized/dist/es/AutoSizer/index.js\");\n/* harmony import */ var react_virtualized_dist_es_List__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react-virtualized/dist/es/List */ \"./node_modules/react-virtualized/dist/es/List/index.js\");\n/* harmony import */ var images_lopenling_logo_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! images/lopenling_logo.png */ \"./app/images/lopenling_logo.png\");\n/* harmony import */ var react_virtualized_dist_es_CellMeasurer__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-virtualized/dist/es/CellMeasurer */ \"./node_modules/react-virtualized/dist/es/CellMeasurer/index.js\");\n/* harmony import */ var react_virtualized_styles_css__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-virtualized/styles.css */ \"./node_modules/react-virtualized/styles.css\");\n/* harmony import */ var react_virtualized_styles_css__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_virtualized_styles_css__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Text */ \"./app/components/TextDetail/Text.js\");\n/* harmony import */ var lib_SplitText__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lib/SplitText */ \"./app/lib/SplitText.js\");\n/* harmony import */ var lib_SegmentedText__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lib/SegmentedText */ \"./app/lib/SegmentedText.js\");\n/* harmony import */ var lib_shallowEqual__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lib/shallowEqual */ \"./app/lib/shallowEqual.js\");\n/* harmony import */ var _AnnotationControls__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./AnnotationControls */ \"./app/components/TextDetail/AnnotationControls.js\");\n/* harmony import */ var _AnnotationControlsContainer__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./AnnotationControlsContainer */ \"./app/components/TextDetail/AnnotationControlsContainer.js\");\n/* harmony import */ var _SplitText_css__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./SplitText.css */ \"./app/components/TextDetail/SplitText.css\");\n/* harmony import */ var _SplitText_css__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_SplitText_css__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _AnnotationControls_css__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./AnnotationControls.css */ \"./app/components/TextDetail/AnnotationControls.css\");\n/* harmony import */ var _AnnotationControls_css__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_AnnotationControls_css__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! lib/TextSegment */ \"./app/lib/TextSegment.js\");\n/* harmony import */ var lib_Annotation__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! lib/Annotation */ \"./app/lib/Annotation.js\");\n/* harmony import */ var lib_Witness__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! lib/Witness */ \"./app/lib/Witness.js\");\n/* harmony import */ var grapheme_splitter__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! grapheme-splitter */ \"./node_modules/grapheme-splitter/index.js\");\n/* harmony import */ var grapheme_splitter__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(grapheme_splitter__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var react_zoom_pan_pinch__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! react-zoom-pan-pinch */ \"./node_modules/react-zoom-pan-pinch/dist/index.esm.js\");\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MIN_SPACE_RIGHT = parseInt((_AnnotationControls_css__WEBPACK_IMPORTED_MODULE_22___default().inlineWidth)) + _AnnotationControls__WEBPACK_IMPORTED_MODULE_19__.CONTROLS_MARGIN_LEFT;\nvar IMAGE_URL_PREFIX = \"//iiif.bdrc.io/\";\nvar IMAGE_URL_SUFFIX = \"/full/full/0/default.jpg\";\nvar IMAGE_START_PRE_KEY = \"bdrcimg_pre\";\nvar IMAGE_START_NUMBER_KEY = \"bdrcimg_number\";\nvar IMAGE_START_SUFFIX_KEY = \"bdrcimg_suffix\";\nvar _searchResultsCache = {};\n\nfunction HttpUrl() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  if (data.includes(\"https\")) return data;\n  return \"https://\" + data;\n}\n\nvar SplitTextComponent = /*#__PURE__*/function (_React$PureComponent) {\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(SplitTextComponent, _React$PureComponent);\n\n  var _super = _createSuper(SplitTextComponent);\n\n  // Whether the mouse button is down\n  function SplitTextComponent(props) {\n    var _this;\n\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, SplitTextComponent);\n\n    _this = _super.call(this, props);\n    _this.textAlignmentById = [];\n    _this.childRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createRef(\"0\");\n    _this.list = null;\n    _this.splitText = null;\n    _this.cache = new react_virtualized_dist_es_CellMeasurer__WEBPACK_IMPORTED_MODULE_13__.CellMeasurerCache({\n      fixedWidth: true\n    });\n    _this.imageAlignmentById = _this.props.imageAlignmentById;\n    _this.changeImageScrollId = _this.props.changeImageScrollId;\n    _this.splitTextRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createRef(null);\n    _this.rowRenderer = _this.rowRenderer.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_this));\n    _this.textListVisible = props.textListVisible;\n    _this.editMenuVisible = props.editMenuVisible;\n    _this.isPanelLinked = props.isPanelLinked;\n    _this.activeSelection = null;\n    _this.selectedNodes = null;\n    _this._mouseDown = false;\n    _this._activeWitness = null;\n    _this._didSetInitialScrollPosition = false;\n    _this._modifyingSelection = false;\n    _this.imageHeight = null;\n    _this.imageWidth = null;\n    _this.calculatedImageHeight = null;\n\n    _this.processProps(props);\n\n    _this.changeScrollToId = props.changeScrollToId;\n    _this.changeSyncIdOnClick = props.changeSyncIdOnClick;\n    _this.closeAnnotation = props.closeAnnotation;\n    _this.scrollJump = props.scrollJump;\n    _this.textAlignmentById = [];\n    _this.scrollEvent = _this.scrollEvent.bind((0,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_this));\n    _this.selectedWindow = props.selectedWindow;\n    _this.changeImageScrollId = props.changeImageScrollId;\n    _this.imageData = props.imageData;\n    return _this;\n  }\n\n  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(SplitTextComponent, [{\n    key: \"scrollEvent\",\n    value: function scrollEvent(e) {\n      if (this.selectedWindow === 2) return null;\n\n      if (this.selectedWindow === 1 && this.isPanelLinked) {\n        var list = [];\n        var imageIdList = [];\n        this.textAlignmentById.map(function (l) {\n          var number = document.getElementById(\"s_\" + l.start);\n\n          if (number) {\n            var _position = number.getBoundingClientRect();\n\n            if (_position.top > 102) {\n              list.push({\n                id: l.id,\n                start: l.start,\n                target: l.TStart\n              });\n            }\n          }\n        });\n        this.imageAlignmentById.map(function (l) {\n          var number = document.getElementById(\"s_\" + (l === null || l === void 0 ? void 0 : l.start));\n\n          if (number) {\n            var _position2 = number.getBoundingClientRect();\n\n            if (_position2.top > 102) {\n              imageIdList.push({\n                id: l.id,\n                start: l.start,\n                end: l.end\n              });\n            }\n          }\n        });\n\n        if (!lodash__WEBPACK_IMPORTED_MODULE_23___default().isEmpty(list) || !lodash__WEBPACK_IMPORTED_MODULE_23___default().isEmpty(imageIdList)) {\n          if (this.selectedWindow === 1) {\n            this.debouncedScroll(list, imageIdList);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"updateList\",\n    value: function updateList() {\n      var resetCache = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var resetRows = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (this.props.showImages && !this.calculatedImageHeight && this.imageHeight && this.imageWidth) {\n        this.calculatedImageHeight = this.calculateImageHeight();\n      }\n\n      if (this.list) {\n        var list = this.list;\n\n        if (resetCache) {\n          if (resetRows !== null) {\n            if (!Array.isArray(resetRows)) {\n              this.cache.clear(resetRows);\n            } else if (Array.isArray(resetRows)) {\n              for (var i = 0; i < resetRows.length; i++) {\n                var resetRow = resetRows[i];\n                this.cache.clear(resetRow);\n              }\n            }\n          } else {\n            this.cache.clearAll();\n            list.measureAllRows();\n            list.recomputeRowHeights(0);\n          }\n        }\n\n        list.forceUpdateGrid();\n      }\n    }\n  }, {\n    key: \"mouseDown\",\n    value: function mouseDown() {\n      this._mouseDown = true;\n    }\n  }, {\n    key: \"mouseUp\",\n    value: function mouseUp() {\n      this._mouseDown = false;\n\n      if (this.activeSelection) {\n        var _segmentIds = this.processSelection(this.activeSelection);\n\n        if (!_segmentIds) {\n          _segmentIds = [];\n        }\n\n        this.props.didSelectSegmentIds(_segmentIds);\n        this.activeSelection = null;\n      }\n    }\n  }, {\n    key: \"handleSelection\",\n    value: function handleSelection(e) {\n      if (!this._modifyingSelection) {\n        this.activeSelection = document.getSelection();\n\n        if (!this._mouseDown) {\n          // sometimes, this gets called after the mouseDown event handler\n          this.mouseUp();\n        }\n      } else {\n        e.stopPropagation(); // Need to set this here. If set at callsite, the event will not\n        // have time to propagate.\n\n        this._modifyingSelection = false;\n      }\n    }\n  }, {\n    key: \"processSelection\",\n    value: function processSelection(selection) {\n      if (selection.rangeCount === 0 || selection.isCollapsed || selection.type === \"Caret\") {\n        this.selectedNodes = null;\n        return null;\n      }\n\n      var range = selection.getRangeAt(0);\n      var start = range.startContainer;\n      var startSpan = this.getNodeSegmentSpan(start);\n\n      if (!(startSpan && startSpan.parentNode)) {\n        // If the selection is not a text segment, ignore.\n        // Assuming if the first node is a non-segment, they\n        // all are.\n        return null;\n      }\n\n      var nodes = this.getRangeNodes(range, startSpan.parentNode); // Check if the selection starts after the end of a node, and\n      // if so remove that node.\n\n      if (nodes.length > 0) {\n        var firstNode = nodes[0];\n\n        if (range.startOffset === firstNode.textContent.length) {\n          nodes.shift();\n        }\n      }\n\n      var end = range.endContainer;\n      var endSpan = this.getNodeSegmentSpan(end);\n\n      if (!(endSpan && endSpan.parentNode)) {\n        return null;\n      }\n\n      if (endSpan && startSpan.parentNode !== endSpan.parentNode) {\n        // Selection is spanning Texts.\n        // We assume a selection can only run across a maximum\n        // of two Texts.\n        nodes = nodes.concat(this.getRangeNodes(range, endSpan.parentNode));\n      } else {\n        // Check if the selection ends before the start of a node, and\n        // if so remove that node.\n        if (range.endOffset === 0) {\n          nodes.pop();\n        }\n      }\n\n      this.selectedNodes = nodes;\n      var nodeIds = [];\n      nodes.reduce(function (accumulator, current) {\n        if (current instanceof Element) {\n          accumulator.push(current.id);\n        }\n\n        return accumulator;\n      }, nodeIds);\n      return nodeIds;\n    }\n  }, {\n    key: \"getNodeSegmentSpan\",\n    value: function getNodeSegmentSpan(node) {\n      var currentNode = node;\n      var span = null;\n      var test = /^(i|s|ds)_/;\n\n      while (!span && currentNode.parentNode) {\n        if (currentNode instanceof Element && test.test(currentNode.id)) {\n          span = currentNode;\n        }\n\n        currentNode = currentNode.parentNode;\n      }\n\n      return span;\n    }\n  }, {\n    key: \"getRangeNodes\",\n    value: function getRangeNodes(range, parentNode) {\n      var rangeSpans = [];\n\n      for (var i = 0, len = parentNode.childNodes.length; i < len; i++) {\n        var node = parentNode.childNodes[i]; // TODO: add polyfill for i.e.?\n        // e.g. https://gist.github.com/jonathansampson/6d09bd6d2e8c22c53868aec42e66b0f9\n\n        if (range.intersectsNode(node)) {\n          rangeSpans.push(node);\n        }\n      }\n\n      return rangeSpans;\n    }\n  }, {\n    key: \"getControlsMeasurements\",\n    value: function getControlsMeasurements(props) {\n      if (!this.splitText) {\n        return null;\n      }\n\n      var splitTextComponent = this.splitText;\n      var selectedTextIndex = null;\n      var firstSelectedSegment = null;\n      var selectedElementId = null;\n      var splitTextRect = null;\n      var segmentIdFunction = null;\n      var selectedElementIds = [];\n      var startPos = 0;\n\n      if (props.activeAnnotation) {\n        var activeAnnotation = props.activeAnnotation;\n\n        var _props$splitText$anno = props.splitText.annotatedText.getPositionOfAnnotation(activeAnnotation);\n\n        var _props$splitText$anno2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_props$splitText$anno, 1);\n\n        startPos = _props$splitText$anno2[0];\n\n        if (startPos === null) {\n          console.warn(\"No startPos in getControlsMeasurements\");\n          return null;\n        }\n\n        if (activeAnnotation.type === lib_Annotation__WEBPACK_IMPORTED_MODULE_25__.ANNOTATION_TYPES.pageBreak) {\n          startPos -= 1;\n        }\n\n        if (activeAnnotation.type === lib_Annotation__WEBPACK_IMPORTED_MODULE_25__.ANNOTATION_TYPES.lineBreak) {\n          startPos -= 1;\n        } // Index of text containing end of annotation\n\n\n        var positionEnd = startPos + activeAnnotation.length;\n        if (activeAnnotation.length > 0) positionEnd -= 1;\n        selectedTextIndex = props.splitText.getTextIndexOfPosition(positionEnd);\n        splitTextRect = splitTextComponent.getBoundingClientRect();\n      }\n\n      var selectedAnnotatedSegments = [];\n\n      if (props.selectedAnnotatedSegments && props.selectedAnnotatedSegments.length > 0) {\n        selectedAnnotatedSegments = props.selectedAnnotatedSegments;\n\n        for (var i = 0; i < selectedAnnotatedSegments.length; i++) {\n          var _segment = selectedAnnotatedSegments[i];\n\n          if (firstSelectedSegment === null && _segment instanceof lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"]) {\n            firstSelectedSegment = _segment;\n            break;\n          }\n        }\n\n        if (firstSelectedSegment) {\n          if (firstSelectedSegment.length === 0 && props.activeAnnotation && props.activeAnnotation.isInsertion) {\n            selectedElementId = (0,_Text__WEBPACK_IMPORTED_MODULE_15__.idForInsertion)(firstSelectedSegment);\n            segmentIdFunction = _Text__WEBPACK_IMPORTED_MODULE_15__.idForInsertion;\n          } else {\n            selectedElementId = (0,_Text__WEBPACK_IMPORTED_MODULE_15__.idForSegment)(firstSelectedSegment);\n            segmentIdFunction = _Text__WEBPACK_IMPORTED_MODULE_15__.idForSegment;\n          }\n        }\n      } else if (props.activeAnnotation) {\n        if (props.activeAnnotation.isDeletion) {\n          var _segment2 = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"](startPos, \"\");\n\n          selectedElementId = (0,_Text__WEBPACK_IMPORTED_MODULE_15__.idForDeletedSegment)(_segment2);\n          segmentIdFunction = _Text__WEBPACK_IMPORTED_MODULE_15__.idForDeletedSegment;\n          firstSelectedSegment = _segment2;\n          selectedAnnotatedSegments = [firstSelectedSegment];\n        } else if (props.activeAnnotation.isInsertion) {\n          var _props$splitText$anno3 = props.splitText.annotatedText.getPositionOfAnnotation(props.activeAnnotation),\n              _props$splitText$anno4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_props$splitText$anno3, 1),\n              start = _props$splitText$anno4[0];\n\n          if (start) {\n            var _segment3 = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"](start, \"\");\n\n            selectedElementId = (0,_Text__WEBPACK_IMPORTED_MODULE_15__.idForInsertion)(_segment3);\n            segmentIdFunction = _Text__WEBPACK_IMPORTED_MODULE_15__.idForInsertion;\n            firstSelectedSegment = _segment3;\n            selectedAnnotatedSegments = [firstSelectedSegment];\n          }\n        } else if (props.activeAnnotation.type === lib_Annotation__WEBPACK_IMPORTED_MODULE_25__.ANNOTATION_TYPES.pageBreak) {\n          var _segment4 = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"](startPos + 1, \"\");\n\n          var prevSegment = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"](startPos, \"\");\n          selectedElementId = (0,_Text__WEBPACK_IMPORTED_MODULE_15__.idForPageBreak)(prevSegment);\n          firstSelectedSegment = _segment4;\n          selectedAnnotatedSegments = [_segment4];\n          selectedElementIds = [selectedElementId];\n        } else if (props.activeAnnotation.type === lib_Annotation__WEBPACK_IMPORTED_MODULE_25__.ANNOTATION_TYPES.lineBreak) {\n          var _segment5 = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"](startPos + 1, \"\");\n\n          var _prevSegment = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"](startPos, \"\");\n\n          selectedElementId = (0,_Text__WEBPACK_IMPORTED_MODULE_15__.idForLineBreak)(_prevSegment);\n          firstSelectedSegment = _segment5;\n          selectedAnnotatedSegments = [_segment5];\n          selectedElementIds = [selectedElementId];\n        }\n      }\n\n      if (segmentIdFunction) {\n        for (var _i = 0; _i < selectedAnnotatedSegments.length; _i++) {\n          var _segment6 = selectedAnnotatedSegments[_i];\n\n          if (_segment6 instanceof lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"]) {\n            var _segmentId = segmentIdFunction(_segment6);\n\n            selectedElementIds.push(_segmentId);\n          }\n        }\n      }\n\n      if (selectedTextIndex != null && firstSelectedSegment && selectedElementId && splitTextRect) {\n        return {\n          selectedTextIndex: selectedTextIndex,\n          firstSelectedSegment: firstSelectedSegment,\n          selectedElementId: selectedElementId,\n          splitTextRect: splitTextRect,\n          selectedElementIds: selectedElementIds\n        };\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"shouldResetListCache\",\n    value: function shouldResetListCache(oldProps, newProps) {\n      var shouldReset = false;\n\n      if (oldProps.showImages !== newProps.showImages || this.pageBreaksChanged(oldProps, newProps)) {\n        shouldReset = true;\n      }\n\n      return shouldReset;\n    }\n  }, {\n    key: \"pageBreaksChanged\",\n    value: function pageBreaksChanged(oldProps, newProps) {\n      var oldTextBreaks = oldProps.splitText.getTextsFinalPositions();\n      var newTextBreaks = newProps.splitText.getTextsFinalPositions();\n      if (oldTextBreaks.length !== newTextBreaks.length) return true;\n      return JSON.stringify(oldTextBreaks) !== JSON.stringify(newTextBreaks);\n    }\n  }, {\n    key: \"lineBreaksChanges\",\n    value: function lineBreaksChanges(oldProps, newProps) {\n      var oldActiveAnnotation = oldProps.activeAnnotation;\n      var newActiveAnnotation = newProps.activeAnnotation;\n      var hasChanged = false;\n\n      if (oldActiveAnnotation && oldActiveAnnotation.isType(lib_Annotation__WEBPACK_IMPORTED_MODULE_25__.ANNOTATION_TYPES.lineBreak) && newProps.activeAnnotations && !newProps.activeAnnotations.hasOwnProperty(oldActiveAnnotation.uniqueId)) {\n        hasChanged = true;\n      }\n\n      if (newActiveAnnotation && newActiveAnnotation.isType(lib_Annotation__WEBPACK_IMPORTED_MODULE_25__.ANNOTATION_TYPES.lineBreak) && oldProps.activeAnnotations && !oldProps.activeAnnotations.hasOwnProperty(newActiveAnnotation.uniqueId)) {\n        hasChanged = true;\n      }\n\n      return hasChanged;\n    }\n  }, {\n    key: \"selectedListRow\",\n    value: function selectedListRow(props) {\n      var row = null;\n\n      if (props.activeAnnotation) {\n        row = props.splitText.getTextIndexOfPosition(props.activeAnnotation.start);\n      }\n\n      return row;\n    }\n  }, {\n    key: \"processProps\",\n    value: function processProps(props) {\n      var _this2 = this;\n\n      var changedWitness = false;\n\n      if (!this.props.selectedWitness || props.selectedWitness && props.selectedWitness.id !== this.props.selectedWitness.id) {\n        changedWitness = true;\n        this._didSetInitialScrollPosition = false;\n      }\n\n      if (props.selectedSearchResult && (!this.props.selectedSearchResult || props.selectedSearchResult.start !== this.props.selectedSearchResult.start || props.selectedSearchResult.textId !== this.props.selectedSearchResult.textId)) {\n        console.log(\"resetting scroll position from search result\");\n        this._didSetInitialScrollPosition = false;\n      } // TODO: check if new selectedSearchResult and if so\n      // set this._didSetInitialScrollPosition = false\n      // make sure there's no numbers in selectedAnnotatedSegments\n      // as we want to pass it to Text which only expects TextSegments\n\n\n      this._filteredSelectedAnnotatedSegments = props.selectedAnnotatedSegments.reduce(function (acc, current) {\n        if (current instanceof lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"]) acc.push(current);\n        return acc;\n      }, []);\n      var controlsMeasurements = this.getControlsMeasurements(props);\n\n      if (controlsMeasurements) {\n        this.selectedTextIndex = controlsMeasurements.selectedTextIndex;\n        this.firstSelectedSegment = controlsMeasurements.firstSelectedSegment;\n        this.splitTextRect = controlsMeasurements.splitTextRect;\n        this.selectedElementId = controlsMeasurements.selectedElementId;\n        this.selectedElementIds = controlsMeasurements.selectedElementIds;\n      }\n\n      if (props.textListVisible !== this.textListVisible || props.editMenuVisible !== this.editMenuVisible) {\n        setTimeout(function () {\n          _this2.textListVisible = props.textListVisible;\n          _this2.editMenuVisible = props.editMenuVisible;\n\n          _this2.updateList(true);\n        }, 500);\n      } else {\n        if (changedWitness) {\n          this.updateList(true);\n        } else if (this.pageBreaksChanged(this.props, props)) {\n          var selectedRows = null;\n          var currentSelectedRow = this.selectedListRow(this.props);\n          var newSelectedRow = this.selectedListRow(props);\n\n          if (currentSelectedRow && newSelectedRow) {\n            var firstChangedRow = currentSelectedRow > newSelectedRow ? newSelectedRow : currentSelectedRow;\n            var splitRowTexts = this.props.splitText.texts;\n            selectedRows = [];\n\n            for (var i = firstChangedRow, len = splitRowTexts.length; i < len; i++) {\n              selectedRows.push(i);\n            }\n          }\n\n          this.updateList(true, selectedRows);\n        } else if (this.lineBreaksChanges(this.props, props)) {\n          var selectedRow = this.selectedListRow(props);\n          if (!selectedRow) selectedRow = this.selectedListRow(this.props);\n          var _splitRowTexts = this.props.splitText.texts;\n          var _selectedRows = [];\n\n          if (selectedRow !== null) {\n            for (var _i2 = selectedRow, _len = _splitRowTexts.length; _i2 < _len; _i2++) {\n              _selectedRows.push(_i2);\n            }\n\n            this.updateList(true, _selectedRows);\n          }\n        } else if (this.props.fontSize !== props.fontSize) {\n          this.updateList(true);\n        } else if (this.props.activeAnnotation && props.activeAnnotation && this.annotationsInSameLocation(this.props.activeAnnotation, props.activeAnnotation)) {\n          this.updateList(true, this.selectedListRow(props));\n        } else {\n          this.updateList(this.shouldResetListCache(this.props, props));\n        }\n      }\n    }\n  }, {\n    key: \"annotationsInSameLocation\",\n    value: function annotationsInSameLocation(anno1, anno2) {\n      if (anno1.start === anno2.start && anno1.length === anno2.length) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(props) {\n      this.processProps(props);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.resizeHandler = lodash__WEBPACK_IMPORTED_MODULE_23___default().throttle(function () {\n        _this3.calculatedImageHeight = null;\n\n        _this3.updateList();\n      }, 600).bind(this);\n      this.debouncedScroll = lodash__WEBPACK_IMPORTED_MODULE_23___default().debounce(function (list, imagelist) {\n        if (list.length) {\n          var _list$;\n\n          _this3.changeScrollToId({\n            id: (_list$ = list[0]) === null || _list$ === void 0 ? void 0 : _list$.start,\n            from: 1\n          });\n        }\n\n        if (imagelist.length) {\n          var _imagelist$, _imagelist$2;\n\n          _this3.changeImageScrollId({\n            id: {\n              start: (_imagelist$ = imagelist[0]) === null || _imagelist$ === void 0 ? void 0 : _imagelist$.start,\n              end: (_imagelist$2 = imagelist[0]) === null || _imagelist$2 === void 0 ? void 0 : _imagelist$2.end\n            },\n            from: 1\n          });\n        }\n      }, 1000);\n      window.addEventListener(\"resize\", this.resizeHandler);\n      this.selectionHandler = lodash__WEBPACK_IMPORTED_MODULE_23___default().debounce(function (e) {\n        _this3.handleSelection(e);\n      }, 200).bind(this);\n      document.addEventListener(\"selectionchange\", this.selectionHandler);\n      document.addEventListener(\"mousedown\", this.mouseDown.bind(this), true);\n      document.addEventListener(\"mouseup\", this.mouseUp.bind(this), true);\n      this.processProps(this.props);\n      this.timer = setTimeout(function () {\n        _this3.resizeHandler();\n      }, 2000);\n      this.componentDidUpdate();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props,\n          _this$props2,\n          _this4 = this;\n\n      this.imageData = this.props.imageData;\n\n      if (this.imageData !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.imageData)) {\n        this.calculatedImageHeight = null;\n        this.updateList(true);\n      }\n\n      var Alignment = this.props.textAlignment;\n      this.imageAlignmentById = this.props.imageAlignmentById;\n      this.SearchSyncId = this.props.syncIdOnSearch || null;\n      this.condition = this.props.condition;\n      var scrollToId = this.props.scrollToId;\n      var list = this.list;\n      var con = (prevProps === null || prevProps === void 0 ? void 0 : prevProps.searchResults) !== ((_this$props = this.props) === null || _this$props === void 0 ? void 0 : _this$props.searchResults) || (prevProps === null || prevProps === void 0 ? void 0 : prevProps.syncIdOnSearch) !== ((_this$props2 = this.props) === null || _this$props2 === void 0 ? void 0 : _this$props2.syncIdOnSearch); // scroll to word searched using search input\n\n      if (con && this.props.searchResults) {\n        if (this.SearchSyncId) {\n          var selectedTextIndex = this.props.splitText.getTextIndexOfPosition(this.SearchSyncId);\n          setTimeout(function () {\n            list.scrollToRow(selectedTextIndex);\n            setTimeout(function () {\n              list.scrollToPosition(list.props.scrollTop - 300);\n            }, 0);\n          }, 100);\n        }\n      }\n\n      this.textAlignmentById = this.props.textAlignmentById;\n      this.isPanelLinked = this.props.isPanelLinked;\n      this.selectedWindow = this.props.selectedWindow;\n      this.targetId = this.props.syncIdOnClick;\n\n      if (this.selectedNodes && this.selectedNodes.length > 0) {\n        var selectedNodes = this.selectedNodes;\n        var selectedSegments = this.props.selectedAnnotatedSegments;\n        setTimeout(function () {\n          var selRange = document.createRange();\n          var startNode = selectedNodes[0];\n          var endNode = selectedNodes[selectedNodes.length - 1];\n          var lastSegment = selectedSegments[selectedSegments.length - 1];\n\n          if (lastSegment instanceof lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"]) {\n            var lastElement = document.getElementById((0,_Text__WEBPACK_IMPORTED_MODULE_15__.idForSegment)(lastSegment));\n            if (lastElement) endNode = lastElement;\n          }\n\n          if (startNode instanceof Element && endNode instanceof Element) {\n            startNode = document.getElementById(startNode.id);\n            endNode = document.getElementById(endNode.id);\n\n            if (startNode && endNode) {\n              selRange.setStart(startNode, 0);\n              selRange.setEnd(endNode, endNode.childNodes.length);\n              var sel = document.getSelection();\n\n              if (sel) {\n                _this4._modifyingSelection = true;\n                sel.removeAllRanges();\n                sel.addRange(selRange);\n                _this4.selectedNodes = null;\n              }\n            }\n          }\n        }, 0);\n      }\n\n      if (!this._didSetInitialScrollPosition && this.list) {\n        var _list = this.list;\n\n        if (this.props.activeAnnotation || this.props.selectedSearchResult) {\n          var _selectedTextIndex = this.getSelectedTextIndex();\n\n          setTimeout(function () {\n            _list.scrollToRow(_selectedTextIndex); // scrollToRow often positions the annotation at the\n            // bottom of the screen, so scroll up a bit\n\n\n            setTimeout(function () {\n              _list.scrollToPosition(_list.props.scrollTop - 300);\n            }, 0);\n          }, 100);\n        }\n\n        this._didSetInitialScrollPosition = true;\n      } //Video and audio alignment scrolling\n\n\n      if (scrollToId.from == \"video\" && scrollToId.id) {\n        var start = scrollToId.id;\n\n        var _selectedTextIndex2 = this.props.splitText.getTextIndexOfPosition(start);\n\n        setTimeout(function () {\n          list.scrollToRow(_selectedTextIndex2);\n          setTimeout(function () {\n            list.scrollToPosition(list.props.scrollTop - 300);\n          }, 0);\n        }, 100);\n      } // scroll control linked with alignment on click\n\n\n      if (this.selectedWindow === 2 && scrollToId.from == 2 && this.isPanelLinked && this.condition && scrollToId.id !== null) {\n        var _list2 = this.list;\n        this.textAlignmentById = this.props.textAlignmentById || [];\n        this.splitText.style.scrollBehavior = \"smooth\";\n\n        if (Alignment && this.isPanelLinked) {\n          var req = this.textAlignmentById.find(function (l) {\n            return l.TStart === scrollToId.id;\n          });\n\n          var _start = req === null || req === void 0 ? void 0 : req.start;\n\n          if (_start !== null) {\n            var _selectedTextIndex3 = this.props.splitText.getTextIndexOfPosition(_start);\n\n            setTimeout(function () {\n              _list2.scrollToRow(_selectedTextIndex3);\n\n              setTimeout(function () {\n                _list2.scrollToPosition(_list2.props.scrollTop - 300);\n              }, 0);\n            }, 100);\n          }\n        }\n      } //for scrolling to the highlighted alignment if its outside visible DOM\n\n\n      if (this.targetId && scrollToId.from === \"ua\" && this.selectedWindow === 2 && scrollToId.id === \"ua\") {\n        var _clickIdObj$source_se;\n\n        var clickIdObj = Alignment.alignment.find(function (l) {\n          return _this4.targetId >= l.target_segment.start && _this4.targetId < l.target_segment.end;\n        });\n        var syncClickTargetId = clickIdObj === null || clickIdObj === void 0 ? void 0 : (_clickIdObj$source_se = clickIdObj.source_segment) === null || _clickIdObj$source_se === void 0 ? void 0 : _clickIdObj$source_se.start;\n\n        var _selectedTextIndex4 = this.props.splitText.getTextIndexOfPosition(syncClickTargetId);\n\n        setTimeout(function () {\n          list.scrollToRow(_selectedTextIndex4);\n          setTimeout(function () {\n            list.scrollToPosition(list.props.scrollTop - 300);\n          }, 0);\n        }, 100);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"mousedown\", this);\n      document.removeEventListener(\"mouseup\", this);\n      window.removeEventListener(\"resize\", this.resizeHandler);\n      document.removeEventListener(\"selectionchange\", this.selectionHandler);\n      clearTimeout(this.timer);\n    }\n  }, {\n    key: \"calculateImageHeight\",\n    value: function calculateImageHeight() {\n      var height = null;\n\n      if (this.imageHeight && this.imageWidth) {\n        var ratio = this.imageWidth / this.imageHeight;\n        var pechaImageClass = (_SplitText_css__WEBPACK_IMPORTED_MODULE_21___default().pechaImage);\n        var pechaImageContainers = document.getElementsByClassName(pechaImageClass);\n\n        if (pechaImageContainers.length > 0) {\n          var container = pechaImageContainers[0];\n          height = container.offsetWidth / ratio;\n        }\n      }\n\n      return height;\n    }\n  }, {\n    key: \"getSelectedTextIndex\",\n    value: function getSelectedTextIndex() {\n      var selectedTextIndex = 0;\n      var startPos = null;\n\n      if (this.props.activeAnnotation) {\n        var _this$props$splitText = this.props.splitText.annotatedText.getPositionOfAnnotation(this.props.activeAnnotation);\n\n        var _this$props$splitText2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props$splitText, 1);\n\n        startPos = _this$props$splitText2[0];\n      } else if (this.props.selectedSearchResult) {\n        var _segment7 = this.props.splitText.annotatedText.segmentAtOriginalPosition(this.props.selectedSearchResult.start);\n\n        if (_segment7 instanceof lib_TextSegment__WEBPACK_IMPORTED_MODULE_24__[\"default\"]) {\n          startPos = _segment7.start;\n        } else if (typeof _segment7 === \"number\") {\n          startPos = _segment7;\n        }\n      }\n\n      if (startPos) {\n        selectedTextIndex = this.props.splitText.getTextIndexOfPosition(startPos);\n      }\n\n      return selectedTextIndex;\n    }\n  }, {\n    key: \"getBaseAnnotation\",\n    value: function getBaseAnnotation(annotation) {\n      var _this$props$splitText3 = this.props.splitText.annotatedText.getPositionOfAnnotation(annotation),\n          _this$props$splitText4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_this$props$splitText3, 1),\n          start = _this$props$splitText4[0];\n\n      if (start === null) start = 0;\n      return this.props.splitText.annotatedText.getBaseAnnotation(start, annotation.content.length);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var props = this.props;\n      var rowRenderer = this.rowRenderer;\n      var cache = this.cache;\n      var key = props.selectedWitness ? props.selectedWitness.id : 0;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(\"div\", {\n        className: (_SplitText_css__WEBPACK_IMPORTED_MODULE_21___default().splitText),\n        ref: function ref(div) {\n          return _this5.splitText = div;\n        },\n        key: key\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(\"button\", {\n        id: \"updateList\",\n        style: {\n          display: \"none\"\n        },\n        onClick: this.resizeHandler\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(react_virtualized_dist_es_AutoSizer__WEBPACK_IMPORTED_MODULE_10__.AutoSizer, {\n        disableWidth: true\n      }, function (_ref) {\n        var height = _ref.height;\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(react_virtualized_dist_es_List__WEBPACK_IMPORTED_MODULE_11__.List, {\n          width: 1,\n          ref: function ref(list) {\n            return _this5.list = list;\n          },\n          height: height,\n          rowCount: props.splitText.texts.length,\n          rowHeight: cache.rowHeight,\n          rowRenderer: rowRenderer,\n          overscanRowCount: 0,\n          deferredMeasurementCache: cache,\n          onScroll: _this5.scrollEvent,\n          scrollToAlignment: \"start\",\n          containerStyle: {\n            width: \"100%\",\n            maxWidth: \"100%\"\n          },\n          style: {\n            width: \"100%\"\n          }\n        });\n      }));\n    }\n  }, {\n    key: \"getImageUrl\",\n    value: function getImageUrl(pageIndex) {\n      if (!this.props.selectedWitness || !this.props.selectedWitness.properties) return \"\";\n      var witnessProperties = this.props.selectedWitness.properties;\n      var prefix = witnessProperties[IMAGE_START_PRE_KEY];\n      var start = witnessProperties[IMAGE_START_NUMBER_KEY];\n      var suffix = witnessProperties[IMAGE_START_SUFFIX_KEY];\n      var id = Number(start) + pageIndex;\n      console.log(id);\n      var url = IMAGE_URL_PREFIX + prefix + id + \".\" + suffix + IMAGE_URL_SUFFIX;\n      console.log(url);\n      return url;\n    }\n  }, {\n    key: \"getStringPositions\",\n    value: function getStringPositions(text, string, index) {\n      var uniqueId = this.props.splitText.annotatedText.getUniqueId();\n\n      if (!_searchResultsCache.hasOwnProperty(uniqueId)) {\n        _searchResultsCache = (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, uniqueId, {});\n      }\n\n      if (!_searchResultsCache[uniqueId].hasOwnProperty(string)) {\n        _searchResultsCache[uniqueId] = (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, string, {});\n      }\n\n      if (_searchResultsCache[uniqueId][string].hasOwnProperty(index)) {\n        return _searchResultsCache[uniqueId][string][index];\n      }\n\n      var splitter = new (grapheme_splitter__WEBPACK_IMPORTED_MODULE_27___default())();\n      var content = text.getText();\n      var firstSegment = text.segments[0];\n      var startingPosition = firstSegment === null || firstSegment === void 0 ? void 0 : firstSegment.start;\n      var positions = [];\n      var position = content.indexOf(string);\n\n      while (position !== -1) {\n        positions.push(position);\n        position = content.indexOf(string, position + 1);\n      } // Position needs to be position in complete text\n\n\n      var verifiedPositions = {};\n\n      if (positions.length > 0) {\n        var graphemes = splitter.splitGraphemes(content);\n        var _position3 = 0;\n        var activePosition = null;\n\n        for (var i = 0; i < graphemes.length; i++) {\n          var grapheme = graphemes[i];\n          var graphemeEnd = _position3 + (grapheme.length - 1);\n\n          if (activePosition !== null) {\n            var expectedEnd = activePosition + (string.length - 1);\n\n            if (graphemeEnd >= expectedEnd) {\n              verifiedPositions[activePosition + startingPosition] = [activePosition + startingPosition, graphemeEnd + startingPosition];\n              activePosition = null;\n            }\n          } else if (positions.indexOf(_position3) !== -1) {\n            if (string.length === grapheme.length) {\n              verifiedPositions[_position3 + startingPosition] = [_position3 + startingPosition, graphemeEnd + startingPosition];\n            } else if (string.length > grapheme.length) {\n              activePosition = _position3;\n            }\n          } else {\n            activePosition = null;\n          }\n\n          _position3 += grapheme.length;\n        }\n      }\n\n      _searchResultsCache[uniqueId][string][index] = verifiedPositions;\n      return verifiedPositions;\n    }\n  }, {\n    key: \"rowRenderer\",\n    value: function rowRenderer(_ref2) {\n      var key = _ref2.key,\n          index = _ref2.index,\n          parent = _ref2.parent,\n          style = _ref2.style;\n      var props = this.props;\n      var cache = this.cache;\n      var component = this;\n      var pechaImageClass = props.showImages ? (_SplitText_css__WEBPACK_IMPORTED_MODULE_21___default().pechaImage) : null;\n      var imageUrl = \"\"; // if (this.imageData?.alignment && props.selectedWitness) {\n      //     imageUrl = HttpUrl(\n      //         this.imageData?.alignment[index]?.target_segment\n      //     );\n      // }\n\n      if (props.selectedWitness && props.selectedWitness.properties && props.selectedWitness.properties.hasOwnProperty(IMAGE_START_PRE_KEY)) {\n        console.log(\"running\");\n        imageUrl = this.getImageUrl(index);\n      }\n\n      var searchStringPositions = {};\n      var searchValue = this.props.searchValue;\n\n      if (searchValue && searchValue.length > 0 && props.splitText) {\n        searchStringPositions = this.getStringPositions(props.splitText.texts[index], searchValue, index);\n      }\n\n      var pechaStyles = {};\n\n      if (props.showImages && pechaImageClass && this.calculatedImageHeight) {\n        pechaStyles[\"height\"] = this.calculatedImageHeight + \"px\";\n      }\n\n      var newStyle = _objectSpread(_objectSpread({}, style), {}, {\n        height: style.height + 10,\n        cursor: !this.props.isAnnotating ? \"pointer\" : \"text\"\n      });\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(react_virtualized_dist_es_CellMeasurer__WEBPACK_IMPORTED_MODULE_13__.CellMeasurer, {\n        columnIndex: 0,\n        key: key,\n        parent: parent,\n        rowIndex: index,\n        cache: cache\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(\"div\", {\n        key: key,\n        style: newStyle,\n        className: (_SplitText_css__WEBPACK_IMPORTED_MODULE_21___default().splitTextRow),\n        ref: this.splitTextRef,\n        id: \"index_\".concat(index)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(\"div\", {\n        className: (_SplitText_css__WEBPACK_IMPORTED_MODULE_21___default().splitTextRowContent)\n      }, props.showImages && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(\"div\", {\n        className: pechaImageClass,\n        style: pechaStyles\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(\"img\", {\n        alt: \"Text related Image\",\n        className: (_SplitText_css__WEBPACK_IMPORTED_MODULE_21___default().image),\n        src: imageUrl,\n        width: \"100%\",\n        height: \"100%\",\n        loading: \"lazy\",\n        decoding: \"async\",\n        onLoad: function onLoad(e) {\n          if (e.target && component.imageWidth === null) {\n            component.imageWidth = e.target.naturalWidth;\n            component.imageHeight = e.target.naturalHeight;\n            component.calculatedImageHeight = null;\n            window.setTimeout(component.updateList.bind(component), 0);\n          }\n        }\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(_Text__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        ref: this.childRef,\n        segmentedText: props.splitText.texts[index],\n        annotations: props.annotations,\n        activeAnnotations: props.activeAnnotations,\n        activeAnnotation: props.activeAnnotation,\n        row: index,\n        selectedSegmentId: props.selectedSegmentId,\n        annotationPositions: props.annotationPositions,\n        selectedAnnotatedSegments: this._filteredSelectedAnnotatedSegments,\n        getBaseAnnotation: this.getBaseAnnotation.bind(this),\n        activeWitness: this.props.selectedWitness,\n        searchValue: searchValue,\n        selectedSearchResult: this.props.selectedSearchResult,\n        searchStringPositions: searchStringPositions,\n        fontSize: props.fontSize,\n        changeSyncIdOnClick: this.props.changeSyncIdOnClick,\n        changeScrollToId: this.props.changeScrollToId,\n        textAlignmentById: this.props.textAlignmentById,\n        selectedSourceRange: this.props.selectedSourceRange,\n        selectedTargetRange: this.props.selectedTargetRange,\n        changeSelectedRange: this.props.changeSelectedRange,\n        condition: this.condition\n      })), this.props.isAnnotating && this.selectedTextIndex === index && this.props.activeAnnotation && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8__.createElement(_AnnotationControlsContainer__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n        annotationPositions: props.annotationPositions,\n        annotatedText: props.splitText.annotatedText,\n        activeAnnotation: props.activeAnnotation,\n        inline: true,\n        firstSelectedSegment: this.firstSelectedSegment,\n        splitTextRect: this.splitTextRect,\n        selectedElementId: this.selectedElementId,\n        pechaImageClass: pechaImageClass,\n        splitText: props.splitText,\n        selectedElementIds: this.selectedElementIds,\n        list: this.list\n      })));\n    }\n  }]);\n\n  return SplitTextComponent;\n}(react__WEBPACK_IMPORTED_MODULE_8__.PureComponent);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvY29tcG9uZW50cy9UZXh0RGV0YWlsL1NwbGl0VGV4dC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUEsSUFBTTZCLGVBQWUsR0FDakJDLFFBQVEsQ0FBQ1YsNkVBQUQsQ0FBUixHQUFzQ0osc0VBRDFDO0FBR0EsSUFBTWdCLGdCQUFnQixHQUFHLGlCQUF6QjtBQUNBLElBQU1DLGdCQUFnQixHQUFHLDBCQUF6QjtBQUNBLElBQU1DLG1CQUFtQixHQUFHLGFBQTVCO0FBQ0EsSUFBTUMsc0JBQXNCLEdBQUcsZ0JBQS9CO0FBQ0EsSUFBTUMsc0JBQXNCLEdBQUcsZ0JBQS9CO0FBRUEsSUFBSUMsbUJBTUgsR0FBRyxFQU5KOztBQU9BLFNBQVNDLE9BQVQsR0FBNEI7RUFBQSxJQUFYQyxJQUFXLHVFQUFKLEVBQUk7RUFDeEIsSUFBSUEsSUFBSSxDQUFDQyxRQUFMLENBQWMsT0FBZCxDQUFKLEVBQTRCLE9BQU9ELElBQVA7RUFDNUIsT0FBTyxhQUFhQSxJQUFwQjtBQUNIOztJQThDb0JFOzs7OztFQWlCakI7RUFnQ0EsNEJBQVlDLEtBQVosRUFBMEI7SUFBQTs7SUFBQTs7SUFDdEIsMEJBQU1BLEtBQU47SUFDQSxNQUFLQyxpQkFBTCxHQUF5QixFQUF6QjtJQUNBLE1BQUtDLFFBQUwsZ0JBQWdCNUMsNENBQUEsQ0FBZ0IsR0FBaEIsQ0FBaEI7SUFDQSxNQUFLOEMsSUFBTCxHQUFZLElBQVo7SUFDQSxNQUFLQyxTQUFMLEdBQWlCLElBQWpCO0lBQ0EsTUFBS0MsS0FBTCxHQUFhLElBQUkxQyxzRkFBSixDQUFzQjtNQUMvQjJDLFVBQVUsRUFBRTtJQURtQixDQUF0QixDQUFi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QUszUixLQUFMLENBQVc0UixtQkEzQnBDO1FBNEJJLFNBQVMsRUFBRSxLQUFLakc7TUE1QnBCLEVBckNKLENBUEosRUEyRUssS0FBSzNMLEtBQUwsQ0FBV2lSLFlBQVgsSUFDRyxLQUFLdkssaUJBQUwsS0FBMkI2SSxLQUQ5QixJQUVHLEtBQUt2UCxLQUFMLENBQVdpSCxnQkFGZCxpQkFHTyxpREFBQyxxRUFBRDtRQUNJLG1CQUFtQixFQUFFakgsS0FBSyxDQUFDeVIsbUJBRC9CO1FBRUksYUFBYSxFQUFFelIsS0FBSyxDQUFDSyxTQUFOLENBQWdCNkcsYUFGbkM7UUFHSSxnQkFBZ0IsRUFBRWxILEtBQUssQ0FBQ2lILGdCQUg1QjtRQUlJLE1BQU0sRUFBRSxJQUpaO1FBS0ksb0JBQW9CLEVBQUUsS0FBS04sb0JBTC9CO1FBTUksYUFBYSxFQUFFLEtBQUtFLGFBTnhCO1FBT0ksaUJBQWlCLEVBQUUsS0FBS0QsaUJBUDVCO1FBUUksZUFBZSxFQUFFa0gsZUFSckI7UUFTSSxTQUFTLEVBQUU5TixLQUFLLENBQUNLLFNBVHJCO1FBVUksa0JBQWtCLEVBQUUsS0FBSzBHLGtCQVY3QjtRQVdJLElBQUksRUFBRSxLQUFLM0c7TUFYZixFQTlFWixDQVBKLENBREo7SUF1R0g7Ozs7RUE5bkMyQzlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtaW51c2NsaWVudC8uL2FwcC9jb21wb25lbnRzL1RleHREZXRhaWwvU3BsaXRUZXh0LmpzP2Y3MjkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XHJcbmltcG9ydCB7IEF1dG9TaXplciB9IGZyb20gXCJyZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0F1dG9TaXplclwiO1xyXG5pbXBvcnQgeyBMaXN0IH0gZnJvbSBcInJlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvTGlzdFwiO1xyXG5pbXBvcnQgbG9wZW5saW5nbG9nbyBmcm9tIFwiaW1hZ2VzL2xvcGVubGluZ19sb2dvLnBuZ1wiO1xyXG5pbXBvcnQge1xyXG4gICAgQ2VsbE1lYXN1cmVyLFxyXG4gICAgQ2VsbE1lYXN1cmVyQ2FjaGUsXHJcbn0gZnJvbSBcInJlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQ2VsbE1lYXN1cmVyXCI7XHJcbmltcG9ydCBcInJlYWN0LXZpcnR1YWxpemVkL3N0eWxlcy5jc3NcIjtcclxuaW1wb3J0IFRleHQsIHtcclxuICAgIGlkRm9yU2VnbWVudCxcclxuICAgIGlkRm9yRGVsZXRlZFNlZ21lbnQsXHJcbiAgICBpZEZvckluc2VydGlvbixcclxuICAgIGlkRm9yUGFnZUJyZWFrLFxyXG4gICAgaWRGb3JMaW5lQnJlYWssXHJcbn0gZnJvbSBcIi4vVGV4dFwiO1xyXG5pbXBvcnQgU3BsaXRUZXh0IGZyb20gXCJsaWIvU3BsaXRUZXh0XCI7XHJcbmltcG9ydCBTZWdtZW50ZWRUZXh0IGZyb20gXCJsaWIvU2VnbWVudGVkVGV4dFwiO1xyXG5pbXBvcnQgc2hhbGxvd0VxdWFsIGZyb20gXCJsaWIvc2hhbGxvd0VxdWFsXCI7XHJcbmltcG9ydCB7IENPTlRST0xTX01BUkdJTl9MRUZUIH0gZnJvbSBcIi4vQW5ub3RhdGlvbkNvbnRyb2xzXCI7XHJcbmltcG9ydCBBbm5vdGF0aW9uQ29udHJvbHNDb250YWluZXIgZnJvbSBcIi4vQW5ub3RhdGlvbkNvbnRyb2xzQ29udGFpbmVyXCI7XHJcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vU3BsaXRUZXh0LmNzc1wiO1xyXG5pbXBvcnQgYW5ub3RhdGlvbkNvbnRyb2xzU3R5bGVzIGZyb20gXCIuL0Fubm90YXRpb25Db250cm9scy5jc3NcIjtcclxuaW1wb3J0IGNvbnRyb2xTdHlsZXMgZnJvbSBcIi4vQW5ub3RhdGlvbkNvbnRyb2xzLmNzc1wiO1xyXG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCBUZXh0U2VnbWVudCBmcm9tIFwibGliL1RleHRTZWdtZW50XCI7XHJcbmltcG9ydCBBbm5vdGF0aW9uLCB7IEFOTk9UQVRJT05fVFlQRVMgfSBmcm9tIFwibGliL0Fubm90YXRpb25cIjtcclxuaW1wb3J0IHR5cGUgeyBBbm5vdGF0aW9uVW5pcXVlSWQgfSBmcm9tIFwibGliL0Fubm90YXRpb25cIjtcclxuaW1wb3J0IFdpdG5lc3MgZnJvbSBcImxpYi9XaXRuZXNzXCI7XHJcbmltcG9ydCBHcmFwaGVtZVNwbGl0dGVyIGZyb20gXCJncmFwaGVtZS1zcGxpdHRlclwiO1xyXG5pbXBvcnQgeyBUcmFuc2Zvcm1XcmFwcGVyLCBUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tIFwicmVhY3Qtem9vbS1wYW4tcGluY2hcIjtcclxuXHJcbmNvbnN0IE1JTl9TUEFDRV9SSUdIVCA9XHJcbiAgICBwYXJzZUludChjb250cm9sU3R5bGVzLmlubGluZVdpZHRoKSArIENPTlRST0xTX01BUkdJTl9MRUZUO1xyXG5cclxuY29uc3QgSU1BR0VfVVJMX1BSRUZJWCA9IFwiLy9paWlmLmJkcmMuaW8vXCI7XHJcbmNvbnN0IElNQUdFX1VSTF9TVUZGSVggPSBcIi9mdWxsL2Z1bGwvMC9kZWZhdWx0LmpwZ1wiO1xyXG5jb25zdCBJTUFHRV9TVEFSVF9QUkVfS0VZID0gXCJiZHJjaW1nX3ByZVwiO1xyXG5jb25zdCBJTUFHRV9TVEFSVF9OVU1CRVJfS0VZID0gXCJiZHJjaW1nX251bWJlclwiO1xyXG5jb25zdCBJTUFHRV9TVEFSVF9TVUZGSVhfS0VZID0gXCJiZHJjaW1nX3N1ZmZpeFwiO1xyXG5cclxubGV0IF9zZWFyY2hSZXN1bHRzQ2FjaGU6IHtcclxuICAgIFtzcGxpdFRleHRVbmlxdWVJZDogc3RyaW5nXToge1xyXG4gICAgICAgIFtzZWFyY2hUZXJtOiBzdHJpbmddOiB7XHJcbiAgICAgICAgICAgIFtpbmRleDogbnVtYmVyXTogeyBbcG9zaXRpb246IG51bWJlcl06IFtudW1iZXIsIG51bWJlcl0gfSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxufSA9IHt9O1xyXG5mdW5jdGlvbiBIdHRwVXJsKGRhdGEgPSBcIlwiKSB7XHJcbiAgICBpZiAoZGF0YS5pbmNsdWRlcyhcImh0dHBzXCIpKSByZXR1cm4gZGF0YTtcclxuICAgIHJldHVybiBcImh0dHBzOi8vXCIgKyBkYXRhO1xyXG59XHJcbmV4cG9ydCB0eXBlIFByb3BzID0ge1xyXG4gICAgdGV4dExpc3RWaXNpYmxlOiBib29sZWFuLFxyXG4gICAgZWRpdE1lbnVWaXNpYmxlOiBCb29sZWFuLFxyXG4gICAgaW1hZ2VzQmFzZVVybDogc3RyaW5nLFxyXG4gICAgc3BsaXRUZXh0OiBTcGxpdFRleHQsXHJcbiAgICBkaWRTZWxlY3RTZWdtZW50SWRzOiAoc2VnbWVudElkczogc3RyaW5nW10pID0+IHZvaWQsXHJcbiAgICBsaW1pdFdpZHRoOiBib29sZWFuLFxyXG4gICAgYWN0aXZlQW5ub3RhdGlvbjogQW5ub3RhdGlvbiB8IG51bGwsXHJcbiAgICBzZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzOiBBcnJheTxUZXh0U2VnbWVudCB8IG51bWJlcj4sXHJcbiAgICBzaG93SW1hZ2VzOiBib29sZWFuLFxyXG4gICAgYW5ub3RhdGlvblBvc2l0aW9uczogeyBbc3RyaW5nXTogQW5ub3RhdGlvbltdIH0sXHJcbiAgICBhbm5vdGF0aW9uczogQW5ub3RhdGlvbltdLFxyXG4gICAgYWN0aXZlQW5ub3RhdGlvbnM6IHsgW0Fubm90YXRpb25VbmlxdWVJZF06IEFubm90YXRpb24gfSB8IG51bGwsXHJcbiAgICBzZWxlY3RlZFNlZ21lbnRJZDogKHNlZ21lbnRJZDogc3RyaW5nKSA9PiB2b2lkLFxyXG4gICAgc2VsZWN0ZWRXaXRuZXNzOiBXaXRuZXNzIHwgbnVsbCxcclxuICAgIHNlbGVjdGVkV2l0bmVzczI6IFdpdG5lc3MgfCBudWxsLFxyXG4gICAgc2VsZWN0ZWRTZWFyY2hSZXN1bHQ6IHtcclxuICAgICAgICB0ZXh0SWQ6IG51bWJlcixcclxuICAgICAgICBzdGFydDogbnVtYmVyLFxyXG4gICAgICAgIGxlbmd0aDogbnVtYmVyLFxyXG4gICAgfSB8IG51bGwsXHJcbiAgICBzZWFyY2hWYWx1ZTogc3RyaW5nIHwgbnVsbCxcclxuICAgIGZvbnRTaXplOiBudW1iZXIsXHJcbiAgICBpc1NlY29uZFdpbmRvd09wZW46IEJvb2xlYW4sXHJcbiAgICBjaGFuZ2VTY3JvbGxUb0lkOiAoKSA9PiB2b2lkLFxyXG4gICAgY2hhbmdlU3luY0lkT25DbGljazogKCkgPT4gdm9pZCxcclxuICAgIGNsb3NlQW5ub3RhdGlvbjogKCkgPT4gdm9pZCxcclxuICAgIGltYWdlRGF0YToge30sXHJcbiAgICBzeW5jSWRPbkNsaWNrOiBOdW1iZXIsXHJcbiAgICBpc1BhbmVsTGlua2VkOiBCb29sZWFuLFxyXG4gICAgaXNQYW5lbFZpc2libGU6IEJvb2xlYW4sXHJcbiAgICB0ZXh0QWxpZ25tZW50OiB7fSxcclxuICAgIHRleHRBbGlnbm1lbnRCeUlkOiB7fSxcclxuICAgIHNlbGVjdGVkV2luZG93OiBCb29sZWFuLFxyXG4gICAgc2Nyb2xsVG9JZDogTnVtYmVyLFxyXG4gICAgc2VsZWN0ZWRUYXJnZXRSYW5nZTogW10sXHJcbiAgICBzZWxlY3RlZFNvdXJjZVJhbmdlOiBbXSxcclxuICAgIHNlYXJjaFJlc3VsdHM6IFtdLFxyXG4gICAgc2hvd1RhYmxlQ29udGVudDogQm9vbGVhbixcclxuICAgIHN5bmNJZE9uU2VhcmNoOiBTdHJpbmcsXHJcbiAgICBpbWFnZUFsaWdubWVudEJ5SWQ6IFtdLFxyXG4gICAgY2hhbmdlSW1hZ2VTY3JvbGxJZDogKCkgPT4gdm9pZCxcclxuICAgIGNvbmRpdGlvbjogQm9vbGVhbixcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwbGl0VGV4dENvbXBvbmVudCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHM+IHtcclxuICAgIGlzU2Vjb25kV2luZG93T3BlbjogQm9vbGVhbjtcclxuICAgIGxpc3Q6IExpc3QgfCBudWxsO1xyXG4gICAgc3BsaXRUZXh0OiBIVE1MRGl2RWxlbWVudCB8IG51bGw7XHJcbiAgICBjYWNoZTogQ2VsbE1lYXN1cmVyQ2FjaGU7XHJcbiAgICByb3dSZW5kZXJlcjogKHBhcmFtczoge1xyXG4gICAgICAgIGtleTogc3RyaW5nLFxyXG4gICAgICAgIGluZGV4OiBudW1iZXIsXHJcbiAgICAgICAgcGFyZW50OiB7fSxcclxuICAgICAgICBzdHlsZToge30sXHJcbiAgICB9KSA9PiBSZWFjdC5FbGVtZW50PENlbGxNZWFzdXJlcj47XHJcbiAgICByZXNpemVIYW5kbGVyOiAoKSA9PiB2b2lkO1xyXG4gICAgc2VsZWN0aW9uSGFuZGxlcjogKGU6IEV2ZW50KSA9PiB2b2lkO1xyXG4gICAgdGV4dExpc3RWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgZWRpdE1lbnVWaXNpYmxlOiBCb29sZWFuO1xyXG4gICAgYWN0aXZlU2VsZWN0aW9uOiBTZWxlY3Rpb24gfCBudWxsO1xyXG4gICAgc2VsZWN0ZWROb2RlczogTm9kZVtdIHwgbnVsbDtcclxuICAgIC8vIFdoZXRoZXIgdGhlIG1vdXNlIGJ1dHRvbiBpcyBkb3duXHJcbiAgICBfbW91c2VEb3duOiBib29sZWFuO1xyXG4gICAgX2FjdGl2ZVdpdG5lc3M6IFdpdG5lc3MgfCBudWxsO1xyXG4gICAgX2RpZFNldEluaXRpYWxTY3JvbGxQb3NpdGlvbjogYm9vbGVhbjtcclxuICAgIF9maWx0ZXJlZFNlbGVjdGVkQW5ub3RhdGVkU2VnbWVudHM6IFRleHRTZWdtZW50W107XHJcbiAgICBfbW9kaWZ5aW5nU2VsZWN0aW9uOiBib29sZWFuO1xyXG4gICAgc2VsZWN0ZWRUZXh0SW5kZXg6IG51bWJlciB8IG51bGw7XHJcbiAgICBzcGxpdFRleHRSZWN0OiBDbGllbnRSZWN0IHwgbnVsbDtcclxuICAgIGZpcnN0U2VsZWN0ZWRTZWdtZW50OiBUZXh0U2VnbWVudCB8IG51bGw7XHJcbiAgICBzZWxlY3RlZEVsZW1lbnRJZDogc3RyaW5nIHwgbnVsbDtcclxuICAgIHNlbGVjdGVkRWxlbWVudElkczogc3RyaW5nW10gfCBudWxsO1xyXG4gICAgaW1hZ2VXaWR0aDogbnVtYmVyIHwgbnVsbDtcclxuICAgIGltYWdlSGVpZ2h0OiBudW1iZXIgfCBudWxsO1xyXG4gICAgY2FsY3VsYXRlZEltYWdlSGVpZ2h0OiBudW1iZXIgfCBudWxsO1xyXG4gICAgY2hhbmdlU2Nyb2xsVG9JZDogKCkgPT4gdm9pZDtcclxuICAgIGNoYW5nZUltYWdlU2Nyb2xsSWQ6ICgpID0+IHZvaWQ7XHJcbiAgICBjaGFuZ2VTeW5jSWRPbkNsaWNrOiAoKSA9PiB2b2lkO1xyXG4gICAgd2hlZWxTY3JvbGxpbmc6ICgpID0+IHZvaWQ7XHJcbiAgICBjbG9zZUFubm90YXRpb246ICgpID0+IHZvaWQ7XHJcbiAgICB0ZXh0bGluZXM6IE5vZGVbXSB8IG51bGw7XHJcbiAgICBqdW1wOiBudW1iZXI7XHJcbiAgICBpc1BhbmVsTGlua2VkOiBCb29sZWFuO1xyXG4gICAgc3BsaXRUZXh0UmVmO1xyXG4gICAgdGV4dEFsaWdubWVudEJ5SWQ7XHJcbiAgICBzY3JvbGxFdmVudDogKCkgPT4gdm9pZDtcclxuICAgIHNlbGVjdGVkV2luZG93O1xyXG4gICAgZGVib3VuY2VkU2Nyb2xsO1xyXG4gICAgdGFyZ2V0SWQ7XHJcbiAgICBjb25kaXRpb247XHJcbiAgICBpbWFnZUFsaWdubWVudEJ5SWQ7XHJcbiAgICBjaGFuZ2VJbWFnZVNjcm9sbElkO1xyXG4gICAgaW1hZ2VEYXRhO1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMudGV4dEFsaWdubWVudEJ5SWQgPSBbXTtcclxuICAgICAgICB0aGlzLmNoaWxkUmVmID0gUmVhY3QuY3JlYXRlUmVmKFwiMFwiKTtcclxuICAgICAgICB0aGlzLmxpc3QgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc3BsaXRUZXh0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IENlbGxNZWFzdXJlckNhY2hlKHtcclxuICAgICAgICAgICAgZml4ZWRXaWR0aDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmltYWdlQWxpZ25tZW50QnlJZCA9IHRoaXMucHJvcHMuaW1hZ2VBbGlnbm1lbnRCeUlkO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlSW1hZ2VTY3JvbGxJZCA9IHRoaXMucHJvcHMuY2hhbmdlSW1hZ2VTY3JvbGxJZDtcclxuICAgICAgICB0aGlzLnNwbGl0VGV4dFJlZiA9IFJlYWN0LmNyZWF0ZVJlZihudWxsKTtcclxuICAgICAgICB0aGlzLnJvd1JlbmRlcmVyID0gdGhpcy5yb3dSZW5kZXJlci5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudGV4dExpc3RWaXNpYmxlID0gcHJvcHMudGV4dExpc3RWaXNpYmxlO1xyXG4gICAgICAgIHRoaXMuZWRpdE1lbnVWaXNpYmxlID0gcHJvcHMuZWRpdE1lbnVWaXNpYmxlO1xyXG4gICAgICAgIHRoaXMuaXNQYW5lbExpbmtlZCA9IHByb3BzLmlzUGFuZWxMaW5rZWQ7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTZWxlY3Rpb24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWROb2RlcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fbW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlV2l0bmVzcyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fZGlkU2V0SW5pdGlhbFNjcm9sbFBvc2l0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fbW9kaWZ5aW5nU2VsZWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbWFnZUhlaWdodCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbWFnZVdpZHRoID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZWRJbWFnZUhlaWdodCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzUHJvcHMocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlU2Nyb2xsVG9JZCA9IHByb3BzLmNoYW5nZVNjcm9sbFRvSWQ7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTeW5jSWRPbkNsaWNrID0gcHJvcHMuY2hhbmdlU3luY0lkT25DbGljaztcclxuICAgICAgICB0aGlzLmNsb3NlQW5ub3RhdGlvbiA9IHByb3BzLmNsb3NlQW5ub3RhdGlvbjtcclxuICAgICAgICB0aGlzLnNjcm9sbEp1bXAgPSBwcm9wcy5zY3JvbGxKdW1wO1xyXG4gICAgICAgIHRoaXMudGV4dEFsaWdubWVudEJ5SWQgPSBbXTtcclxuICAgICAgICB0aGlzLnNjcm9sbEV2ZW50ID0gdGhpcy5zY3JvbGxFdmVudC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRXaW5kb3cgPSBwcm9wcy5zZWxlY3RlZFdpbmRvdztcclxuICAgICAgICB0aGlzLmNoYW5nZUltYWdlU2Nyb2xsSWQgPSBwcm9wcy5jaGFuZ2VJbWFnZVNjcm9sbElkO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VEYXRhID0gcHJvcHMuaW1hZ2VEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNjcm9sbEV2ZW50KGUpIHtcclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFdpbmRvdyA9PT0gMikgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRXaW5kb3cgPT09IDEgJiYgdGhpcy5pc1BhbmVsTGlua2VkKSB7XHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gW107XHJcbiAgICAgICAgICAgIGxldCBpbWFnZUlkTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRBbGlnbm1lbnRCeUlkLm1hcCgobCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IG51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic19cIiArIGwuc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IG51bWJlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24udG9wID4gMTAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbC5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBsLnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBsLlRTdGFydCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZUFsaWdubWVudEJ5SWQubWFwKChsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzX1wiICsgbD8uc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IG51bWJlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24udG9wID4gMTAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlSWRMaXN0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGwuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogbC5zdGFydCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogbC5lbmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghXy5pc0VtcHR5KGxpc3QpIHx8ICFfLmlzRW1wdHkoaW1hZ2VJZExpc3QpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFdpbmRvdyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVib3VuY2VkU2Nyb2xsKGxpc3QsIGltYWdlSWRMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVMaXN0KFxyXG4gICAgICAgIHJlc2V0Q2FjaGU6IGJvb2xlYW4gPSB0cnVlLFxyXG4gICAgICAgIHJlc2V0Um93czogbnVtYmVyIHwgbnVtYmVyW10gfCBudWxsID0gbnVsbFxyXG4gICAgKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNob3dJbWFnZXMgJiZcclxuICAgICAgICAgICAgIXRoaXMuY2FsY3VsYXRlZEltYWdlSGVpZ2h0ICYmXHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VIZWlnaHQgJiZcclxuICAgICAgICAgICAgdGhpcy5pbWFnZVdpZHRoXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlZEltYWdlSGVpZ2h0ID0gdGhpcy5jYWxjdWxhdGVJbWFnZUhlaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5saXN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3Q7XHJcbiAgICAgICAgICAgIGlmIChyZXNldENhY2hlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzZXRSb3dzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc2V0Um93cykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZS5jbGVhcihyZXNldFJvd3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZXNldFJvd3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzZXRSb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzZXRSb3cgPSByZXNldFJvd3NbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlLmNsZWFyKHJlc2V0Um93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZS5jbGVhckFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3QubWVhc3VyZUFsbFJvd3MoKTtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0LnJlY29tcHV0ZVJvd0hlaWdodHMoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGlzdC5mb3JjZVVwZGF0ZUdyaWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW91c2VEb3duKCkge1xyXG4gICAgICAgIHRoaXMuX21vdXNlRG93biA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgbW91c2VVcCgpIHtcclxuICAgICAgICB0aGlzLl9tb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgbGV0IHNlZ21lbnRJZHMgPSB0aGlzLnByb2Nlc3NTZWxlY3Rpb24odGhpcy5hY3RpdmVTZWxlY3Rpb24pO1xyXG4gICAgICAgICAgICBpZiAoIXNlZ21lbnRJZHMpIHtcclxuICAgICAgICAgICAgICAgIHNlZ21lbnRJZHMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmRpZFNlbGVjdFNlZ21lbnRJZHMoc2VnbWVudElkcyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU2VsZWN0aW9uID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVTZWxlY3Rpb24oZTogRXZlbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX21vZGlmeWluZ1NlbGVjdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVNlbGVjdGlvbiA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX21vdXNlRG93bikge1xyXG4gICAgICAgICAgICAgICAgLy8gc29tZXRpbWVzLCB0aGlzIGdldHMgY2FsbGVkIGFmdGVyIHRoZSBtb3VzZURvd24gZXZlbnQgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVVwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAvLyBOZWVkIHRvIHNldCB0aGlzIGhlcmUuIElmIHNldCBhdCBjYWxsc2l0ZSwgdGhlIGV2ZW50IHdpbGwgbm90XHJcbiAgICAgICAgICAgIC8vIGhhdmUgdGltZSB0byBwcm9wYWdhdGUuXHJcbiAgICAgICAgICAgIHRoaXMuX21vZGlmeWluZ1NlbGVjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm9jZXNzU2VsZWN0aW9uKHNlbGVjdGlvbjogU2VsZWN0aW9uKTogc3RyaW5nW10gfCBudWxsIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwIHx8XHJcbiAgICAgICAgICAgIHNlbGVjdGlvbi5pc0NvbGxhcHNlZCB8fFxyXG4gICAgICAgICAgICBzZWxlY3Rpb24udHlwZSA9PT0gXCJDYXJldFwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWROb2RlcyA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcclxuICAgICAgICBjb25zdCBzdGFydCA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0U3BhbiA9IHRoaXMuZ2V0Tm9kZVNlZ21lbnRTcGFuKHN0YXJ0KTtcclxuICAgICAgICBpZiAoIShzdGFydFNwYW4gJiYgc3RhcnRTcGFuLnBhcmVudE5vZGUpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaXMgbm90IGEgdGV4dCBzZWdtZW50LCBpZ25vcmUuXHJcbiAgICAgICAgICAgIC8vIEFzc3VtaW5nIGlmIHRoZSBmaXJzdCBub2RlIGlzIGEgbm9uLXNlZ21lbnQsIHRoZXlcclxuICAgICAgICAgICAgLy8gYWxsIGFyZS5cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbm9kZXMgPSB0aGlzLmdldFJhbmdlTm9kZXMocmFuZ2UsIHN0YXJ0U3Bhbi5wYXJlbnROb2RlKTtcclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VsZWN0aW9uIHN0YXJ0cyBhZnRlciB0aGUgZW5kIG9mIGEgbm9kZSwgYW5kXHJcbiAgICAgICAgLy8gaWYgc28gcmVtb3ZlIHRoYXQgbm9kZS5cclxuICAgICAgICBpZiAobm9kZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBsZXQgZmlyc3ROb2RlID0gbm9kZXNbMF07XHJcbiAgICAgICAgICAgIGlmIChyYW5nZS5zdGFydE9mZnNldCA9PT0gZmlyc3ROb2RlLnRleHRDb250ZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZW5kID0gcmFuZ2UuZW5kQ29udGFpbmVyO1xyXG4gICAgICAgIGNvbnN0IGVuZFNwYW4gPSB0aGlzLmdldE5vZGVTZWdtZW50U3BhbihlbmQpO1xyXG4gICAgICAgIGlmICghKGVuZFNwYW4gJiYgZW5kU3Bhbi5wYXJlbnROb2RlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVuZFNwYW4gJiYgc3RhcnRTcGFuLnBhcmVudE5vZGUgIT09IGVuZFNwYW4ucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAvLyBTZWxlY3Rpb24gaXMgc3Bhbm5pbmcgVGV4dHMuXHJcbiAgICAgICAgICAgIC8vIFdlIGFzc3VtZSBhIHNlbGVjdGlvbiBjYW4gb25seSBydW4gYWNyb3NzIGEgbWF4aW11bVxyXG4gICAgICAgICAgICAvLyBvZiB0d28gVGV4dHMuXHJcbiAgICAgICAgICAgIG5vZGVzID0gbm9kZXMuY29uY2F0KHRoaXMuZ2V0UmFuZ2VOb2RlcyhyYW5nZSwgZW5kU3Bhbi5wYXJlbnROb2RlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbGVjdGlvbiBlbmRzIGJlZm9yZSB0aGUgc3RhcnQgb2YgYSBub2RlLCBhbmRcclxuICAgICAgICAgICAgLy8gaWYgc28gcmVtb3ZlIHRoYXQgbm9kZS5cclxuICAgICAgICAgICAgaWYgKHJhbmdlLmVuZE9mZnNldCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZXMucG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE5vZGVzID0gbm9kZXM7XHJcbiAgICAgICAgbGV0IG5vZGVJZHMgPSBbXTtcclxuICAgICAgICBub2Rlcy5yZWR1Y2UoKGFjY3VtdWxhdG9yOiBzdHJpbmdbXSwgY3VycmVudDogTm9kZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGFjY3VtdWxhdG9yLnB1c2goY3VycmVudC5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xyXG4gICAgICAgIH0sIG5vZGVJZHMpO1xyXG4gICAgICAgIHJldHVybiBub2RlSWRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5vZGVTZWdtZW50U3Bhbihub2RlOiBOb2RlKTogRWxlbWVudCB8IG51bGwge1xyXG4gICAgICAgIGxldCBjdXJyZW50Tm9kZSA9IG5vZGU7XHJcbiAgICAgICAgbGV0IHNwYW4gPSBudWxsO1xyXG4gICAgICAgIGNvbnN0IHRlc3QgPSAvXihpfHN8ZHMpXy87XHJcbiAgICAgICAgd2hpbGUgKCFzcGFuICYmIGN1cnJlbnROb2RlLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnROb2RlIGluc3RhbmNlb2YgRWxlbWVudCAmJiB0ZXN0LnRlc3QoY3VycmVudE5vZGUuaWQpKSB7XHJcbiAgICAgICAgICAgICAgICBzcGFuID0gY3VycmVudE5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNwYW47XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmFuZ2VOb2RlcyhyYW5nZTogUmFuZ2UsIHBhcmVudE5vZGU6IE5vZGUpOiBOb2RlW10ge1xyXG4gICAgICAgIGxldCByYW5nZVNwYW5zID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhcmVudE5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBub2RlID0gcGFyZW50Tm9kZS5jaGlsZE5vZGVzW2ldO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBhZGQgcG9seWZpbGwgZm9yIGkuZS4/XHJcbiAgICAgICAgICAgIC8vIGUuZy4gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9uYXRoYW5zYW1wc29uLzZkMDliZDZkMmU4YzIyYzUzODY4YWVjNDJlNjZiMGY5XHJcbiAgICAgICAgICAgIGlmIChyYW5nZS5pbnRlcnNlY3RzTm9kZShub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgcmFuZ2VTcGFucy5wdXNoKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByYW5nZVNwYW5zO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbnRyb2xzTWVhc3VyZW1lbnRzKHByb3BzOiBQcm9wcyk6IHtcclxuICAgICAgICBzZWxlY3RlZFRleHRJbmRleDogbnVtYmVyLFxyXG4gICAgICAgIGZpcnN0U2VsZWN0ZWRTZWdtZW50OiBUZXh0U2VnbWVudCxcclxuICAgICAgICBzZWxlY3RlZEVsZW1lbnRJZDogc3RyaW5nLFxyXG4gICAgICAgIHNwbGl0VGV4dFJlY3Q6IENsaWVudFJlY3QsXHJcbiAgICAgICAgc2VsZWN0ZWRFbGVtZW50SWRzOiBzdHJpbmdbXSxcclxuICAgIH0gfCBudWxsIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3BsaXRUZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3BsaXRUZXh0Q29tcG9uZW50ID0gdGhpcy5zcGxpdFRleHQ7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkVGV4dEluZGV4ID0gbnVsbDtcclxuICAgICAgICBsZXQgZmlyc3RTZWxlY3RlZFNlZ21lbnQgPSBudWxsO1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEVsZW1lbnRJZCA9IG51bGw7XHJcbiAgICAgICAgbGV0IHNwbGl0VGV4dFJlY3QgPSBudWxsO1xyXG4gICAgICAgIGxldCBzZWdtZW50SWRGdW5jdGlvbjogbnVsbCB8ICgoc2VnbWVudDogVGV4dFNlZ21lbnQpID0+IHN0cmluZykgPSBudWxsO1xyXG4gICAgICAgIGxldCBzZWxlY3RlZEVsZW1lbnRJZHMgPSBbXTtcclxuICAgICAgICBsZXQgc3RhcnRQb3MgPSAwO1xyXG4gICAgICAgIGlmIChwcm9wcy5hY3RpdmVBbm5vdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIGxldCBhY3RpdmVBbm5vdGF0aW9uID0gcHJvcHMuYWN0aXZlQW5ub3RhdGlvbjtcclxuICAgICAgICAgICAgW3N0YXJ0UG9zXSA9XHJcbiAgICAgICAgICAgICAgICBwcm9wcy5zcGxpdFRleHQuYW5ub3RhdGVkVGV4dC5nZXRQb3NpdGlvbk9mQW5ub3RhdGlvbihcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVBbm5vdGF0aW9uXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoc3RhcnRQb3MgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk5vIHN0YXJ0UG9zIGluIGdldENvbnRyb2xzTWVhc3VyZW1lbnRzXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFjdGl2ZUFubm90YXRpb24udHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5wYWdlQnJlYWspIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0UG9zIC09IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFjdGl2ZUFubm90YXRpb24udHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5saW5lQnJlYWspIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0UG9zIC09IDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEluZGV4IG9mIHRleHQgY29udGFpbmluZyBlbmQgb2YgYW5ub3RhdGlvblxyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb25FbmQgPSBzdGFydFBvcyArIGFjdGl2ZUFubm90YXRpb24ubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZlQW5ub3RhdGlvbi5sZW5ndGggPiAwKSBwb3NpdGlvbkVuZCAtPSAxO1xyXG4gICAgICAgICAgICBzZWxlY3RlZFRleHRJbmRleCA9XHJcbiAgICAgICAgICAgICAgICBwcm9wcy5zcGxpdFRleHQuZ2V0VGV4dEluZGV4T2ZQb3NpdGlvbihwb3NpdGlvbkVuZCk7XHJcbiAgICAgICAgICAgIHNwbGl0VGV4dFJlY3QgPSBzcGxpdFRleHRDb21wb25lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzID0gW107XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBwcm9wcy5zZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzICYmXHJcbiAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkQW5ub3RhdGVkU2VnbWVudHMubGVuZ3RoID4gMFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzID0gcHJvcHMuc2VsZWN0ZWRBbm5vdGF0ZWRTZWdtZW50cztcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VnbWVudCA9IHNlbGVjdGVkQW5ub3RhdGVkU2VnbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RTZWxlY3RlZFNlZ21lbnQgPT09IG51bGwgJiZcclxuICAgICAgICAgICAgICAgICAgICBzZWdtZW50IGluc3RhbmNlb2YgVGV4dFNlZ21lbnRcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0U2VsZWN0ZWRTZWdtZW50ID0gc2VnbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmlyc3RTZWxlY3RlZFNlZ21lbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBmaXJzdFNlbGVjdGVkU2VnbWVudC5sZW5ndGggPT09IDAgJiZcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5hY3RpdmVBbm5vdGF0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuYWN0aXZlQW5ub3RhdGlvbi5pc0luc2VydGlvblxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50SWQgPSBpZEZvckluc2VydGlvbihmaXJzdFNlbGVjdGVkU2VnbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudElkRnVuY3Rpb24gPSBpZEZvckluc2VydGlvbjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50SWQgPSBpZEZvclNlZ21lbnQoZmlyc3RTZWxlY3RlZFNlZ21lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnRJZEZ1bmN0aW9uID0gaWRGb3JTZWdtZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5hY3RpdmVBbm5vdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5hY3RpdmVBbm5vdGF0aW9uLmlzRGVsZXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50ID0gbmV3IFRleHRTZWdtZW50KHN0YXJ0UG9zLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudElkID0gaWRGb3JEZWxldGVkU2VnbWVudChzZWdtZW50KTtcclxuICAgICAgICAgICAgICAgIHNlZ21lbnRJZEZ1bmN0aW9uID0gaWRGb3JEZWxldGVkU2VnbWVudDtcclxuICAgICAgICAgICAgICAgIGZpcnN0U2VsZWN0ZWRTZWdtZW50ID0gc2VnbWVudDtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkQW5ub3RhdGVkU2VnbWVudHMgPSBbZmlyc3RTZWxlY3RlZFNlZ21lbnRdO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BzLmFjdGl2ZUFubm90YXRpb24uaXNJbnNlcnRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFtzdGFydF0gPVxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnNwbGl0VGV4dC5hbm5vdGF0ZWRUZXh0LmdldFBvc2l0aW9uT2ZBbm5vdGF0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5hY3RpdmVBbm5vdGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWdtZW50ID0gbmV3IFRleHRTZWdtZW50KHN0YXJ0LCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRJZCA9IGlkRm9ySW5zZXJ0aW9uKHNlZ21lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnRJZEZ1bmN0aW9uID0gaWRGb3JJbnNlcnRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RTZWxlY3RlZFNlZ21lbnQgPSBzZWdtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQW5ub3RhdGVkU2VnbWVudHMgPSBbZmlyc3RTZWxlY3RlZFNlZ21lbnRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgcHJvcHMuYWN0aXZlQW5ub3RhdGlvbi50eXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLnBhZ2VCcmVha1xyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50ID0gbmV3IFRleHRTZWdtZW50KHN0YXJ0UG9zICsgMSwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJldlNlZ21lbnQgPSBuZXcgVGV4dFNlZ21lbnQoc3RhcnRQb3MsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50SWQgPSBpZEZvclBhZ2VCcmVhayhwcmV2U2VnbWVudCk7XHJcbiAgICAgICAgICAgICAgICBmaXJzdFNlbGVjdGVkU2VnbWVudCA9IHNlZ21lbnQ7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzID0gW3NlZ21lbnRdO1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50SWRzID0gW3NlbGVjdGVkRWxlbWVudElkXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgIHByb3BzLmFjdGl2ZUFubm90YXRpb24udHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5saW5lQnJlYWtcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VnbWVudCA9IG5ldyBUZXh0U2VnbWVudChzdGFydFBvcyArIDEsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByZXZTZWdtZW50ID0gbmV3IFRleHRTZWdtZW50KHN0YXJ0UG9zLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudElkID0gaWRGb3JMaW5lQnJlYWsocHJldlNlZ21lbnQpO1xyXG4gICAgICAgICAgICAgICAgZmlyc3RTZWxlY3RlZFNlZ21lbnQgPSBzZWdtZW50O1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRBbm5vdGF0ZWRTZWdtZW50cyA9IFtzZWdtZW50XTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudElkcyA9IFtzZWxlY3RlZEVsZW1lbnRJZF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlZ21lbnRJZEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRBbm5vdGF0ZWRTZWdtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlZ21lbnQgPSBzZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQgaW5zdGFuY2VvZiBUZXh0U2VnbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnRJZCA9IHNlZ21lbnRJZEZ1bmN0aW9uKHNlZ21lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudElkcy5wdXNoKHNlZ21lbnRJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBzZWxlY3RlZFRleHRJbmRleCAhPSBudWxsICYmXHJcbiAgICAgICAgICAgIGZpcnN0U2VsZWN0ZWRTZWdtZW50ICYmXHJcbiAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudElkICYmXHJcbiAgICAgICAgICAgIHNwbGl0VGV4dFJlY3RcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkVGV4dEluZGV4OiBzZWxlY3RlZFRleHRJbmRleCxcclxuICAgICAgICAgICAgICAgIGZpcnN0U2VsZWN0ZWRTZWdtZW50OiBmaXJzdFNlbGVjdGVkU2VnbWVudCxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudElkOiBzZWxlY3RlZEVsZW1lbnRJZCxcclxuICAgICAgICAgICAgICAgIHNwbGl0VGV4dFJlY3Q6IHNwbGl0VGV4dFJlY3QsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRJZHM6IHNlbGVjdGVkRWxlbWVudElkcyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvdWxkUmVzZXRMaXN0Q2FjaGUob2xkUHJvcHM6IFByb3BzLCBuZXdQcm9wczogUHJvcHMpIHtcclxuICAgICAgICBsZXQgc2hvdWxkUmVzZXQgPSBmYWxzZTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIG9sZFByb3BzLnNob3dJbWFnZXMgIT09IG5ld1Byb3BzLnNob3dJbWFnZXMgfHxcclxuICAgICAgICAgICAgdGhpcy5wYWdlQnJlYWtzQ2hhbmdlZChvbGRQcm9wcywgbmV3UHJvcHMpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzaG91bGRSZXNldDtcclxuICAgIH1cclxuXHJcbiAgICBwYWdlQnJlYWtzQ2hhbmdlZChvbGRQcm9wczogUHJvcHMsIG5ld1Byb3BzOiBQcm9wcykge1xyXG4gICAgICAgIGNvbnN0IG9sZFRleHRCcmVha3MgPSBvbGRQcm9wcy5zcGxpdFRleHQuZ2V0VGV4dHNGaW5hbFBvc2l0aW9ucygpO1xyXG4gICAgICAgIGNvbnN0IG5ld1RleHRCcmVha3MgPSBuZXdQcm9wcy5zcGxpdFRleHQuZ2V0VGV4dHNGaW5hbFBvc2l0aW9ucygpO1xyXG5cclxuICAgICAgICBpZiAob2xkVGV4dEJyZWFrcy5sZW5ndGggIT09IG5ld1RleHRCcmVha3MubGVuZ3RoKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9sZFRleHRCcmVha3MpICE9PSBKU09OLnN0cmluZ2lmeShuZXdUZXh0QnJlYWtzKTtcclxuICAgIH1cclxuXHJcbiAgICBsaW5lQnJlYWtzQ2hhbmdlcyhvbGRQcm9wczogUHJvcHMsIG5ld1Byb3BzOiBQcm9wcykge1xyXG4gICAgICAgIGxldCBvbGRBY3RpdmVBbm5vdGF0aW9uID0gb2xkUHJvcHMuYWN0aXZlQW5ub3RhdGlvbjtcclxuICAgICAgICBsZXQgbmV3QWN0aXZlQW5ub3RhdGlvbiA9IG5ld1Byb3BzLmFjdGl2ZUFubm90YXRpb247XHJcbiAgICAgICAgbGV0IGhhc0NoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBvbGRBY3RpdmVBbm5vdGF0aW9uICYmXHJcbiAgICAgICAgICAgIG9sZEFjdGl2ZUFubm90YXRpb24uaXNUeXBlKEFOTk9UQVRJT05fVFlQRVMubGluZUJyZWFrKSAmJlxyXG4gICAgICAgICAgICBuZXdQcm9wcy5hY3RpdmVBbm5vdGF0aW9ucyAmJlxyXG4gICAgICAgICAgICAhbmV3UHJvcHMuYWN0aXZlQW5ub3RhdGlvbnMuaGFzT3duUHJvcGVydHkoXHJcbiAgICAgICAgICAgICAgICBvbGRBY3RpdmVBbm5vdGF0aW9uLnVuaXF1ZUlkXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIG5ld0FjdGl2ZUFubm90YXRpb24gJiZcclxuICAgICAgICAgICAgbmV3QWN0aXZlQW5ub3RhdGlvbi5pc1R5cGUoQU5OT1RBVElPTl9UWVBFUy5saW5lQnJlYWspICYmXHJcbiAgICAgICAgICAgIG9sZFByb3BzLmFjdGl2ZUFubm90YXRpb25zICYmXHJcbiAgICAgICAgICAgICFvbGRQcm9wcy5hY3RpdmVBbm5vdGF0aW9ucy5oYXNPd25Qcm9wZXJ0eShcclxuICAgICAgICAgICAgICAgIG5ld0FjdGl2ZUFubm90YXRpb24udW5pcXVlSWRcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoYXNDaGFuZ2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdGVkTGlzdFJvdyhwcm9wczogUHJvcHMpOiBudW1iZXIgfCBudWxsIHtcclxuICAgICAgICBsZXQgcm93ID0gbnVsbDtcclxuICAgICAgICBpZiAocHJvcHMuYWN0aXZlQW5ub3RhdGlvbikge1xyXG4gICAgICAgICAgICByb3cgPSBwcm9wcy5zcGxpdFRleHQuZ2V0VGV4dEluZGV4T2ZQb3NpdGlvbihcclxuICAgICAgICAgICAgICAgIHByb3BzLmFjdGl2ZUFubm90YXRpb24uc3RhcnRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJvdztcclxuICAgIH1cclxuXHJcbiAgICBwcm9jZXNzUHJvcHMocHJvcHM6IFByb3BzKSB7XHJcbiAgICAgICAgbGV0IGNoYW5nZWRXaXRuZXNzID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhdGhpcy5wcm9wcy5zZWxlY3RlZFdpdG5lc3MgfHxcclxuICAgICAgICAgICAgKHByb3BzLnNlbGVjdGVkV2l0bmVzcyAmJlxyXG4gICAgICAgICAgICAgICAgcHJvcHMuc2VsZWN0ZWRXaXRuZXNzLmlkICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkV2l0bmVzcy5pZClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgY2hhbmdlZFdpdG5lc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9kaWRTZXRJbml0aWFsU2Nyb2xsUG9zaXRpb24gPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgcHJvcHMuc2VsZWN0ZWRTZWFyY2hSZXN1bHQgJiZcclxuICAgICAgICAgICAgKCF0aGlzLnByb3BzLnNlbGVjdGVkU2VhcmNoUmVzdWx0IHx8XHJcbiAgICAgICAgICAgICAgICBwcm9wcy5zZWxlY3RlZFNlYXJjaFJlc3VsdC5zdGFydCAhPT1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdGVkU2VhcmNoUmVzdWx0LnN0YXJ0IHx8XHJcbiAgICAgICAgICAgICAgICBwcm9wcy5zZWxlY3RlZFNlYXJjaFJlc3VsdC50ZXh0SWQgIT09XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RlZFNlYXJjaFJlc3VsdC50ZXh0SWQpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzZXR0aW5nIHNjcm9sbCBwb3NpdGlvbiBmcm9tIHNlYXJjaCByZXN1bHRcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpZFNldEluaXRpYWxTY3JvbGxQb3NpdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgaWYgbmV3IHNlbGVjdGVkU2VhcmNoUmVzdWx0IGFuZCBpZiBzb1xyXG4gICAgICAgIC8vIHNldCB0aGlzLl9kaWRTZXRJbml0aWFsU2Nyb2xsUG9zaXRpb24gPSBmYWxzZVxyXG5cclxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlcmUncyBubyBudW1iZXJzIGluIHNlbGVjdGVkQW5ub3RhdGVkU2VnbWVudHNcclxuICAgICAgICAvLyBhcyB3ZSB3YW50IHRvIHBhc3MgaXQgdG8gVGV4dCB3aGljaCBvbmx5IGV4cGVjdHMgVGV4dFNlZ21lbnRzXHJcbiAgICAgICAgdGhpcy5fZmlsdGVyZWRTZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzID1cclxuICAgICAgICAgICAgcHJvcHMuc2VsZWN0ZWRBbm5vdGF0ZWRTZWdtZW50cy5yZWR1Y2UoXHJcbiAgICAgICAgICAgICAgICAoYWNjLCBjdXJyZW50OiBUZXh0U2VnbWVudCB8IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50IGluc3RhbmNlb2YgVGV4dFNlZ21lbnQpIGFjYy5wdXNoKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgW11cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29udHJvbHNNZWFzdXJlbWVudHMgPSB0aGlzLmdldENvbnRyb2xzTWVhc3VyZW1lbnRzKHByb3BzKTtcclxuICAgICAgICBpZiAoY29udHJvbHNNZWFzdXJlbWVudHMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHRJbmRleCA9IGNvbnRyb2xzTWVhc3VyZW1lbnRzLnNlbGVjdGVkVGV4dEluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLmZpcnN0U2VsZWN0ZWRTZWdtZW50ID1cclxuICAgICAgICAgICAgICAgIGNvbnRyb2xzTWVhc3VyZW1lbnRzLmZpcnN0U2VsZWN0ZWRTZWdtZW50O1xyXG4gICAgICAgICAgICB0aGlzLnNwbGl0VGV4dFJlY3QgPSBjb250cm9sc01lYXN1cmVtZW50cy5zcGxpdFRleHRSZWN0O1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRWxlbWVudElkID0gY29udHJvbHNNZWFzdXJlbWVudHMuc2VsZWN0ZWRFbGVtZW50SWQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbGVtZW50SWRzID0gY29udHJvbHNNZWFzdXJlbWVudHMuc2VsZWN0ZWRFbGVtZW50SWRzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBwcm9wcy50ZXh0TGlzdFZpc2libGUgIT09IHRoaXMudGV4dExpc3RWaXNpYmxlIHx8XHJcbiAgICAgICAgICAgIHByb3BzLmVkaXRNZW51VmlzaWJsZSAhPT0gdGhpcy5lZGl0TWVudVZpc2libGVcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRMaXN0VmlzaWJsZSA9IHByb3BzLnRleHRMaXN0VmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdE1lbnVWaXNpYmxlID0gcHJvcHMuZWRpdE1lbnVWaXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0KHRydWUpO1xyXG4gICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkV2l0bmVzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0KHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFnZUJyZWFrc0NoYW5nZWQodGhpcy5wcm9wcywgcHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRSb3dzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50U2VsZWN0ZWRSb3cgPSB0aGlzLnNlbGVjdGVkTGlzdFJvdyh0aGlzLnByb3BzKTtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdTZWxlY3RlZFJvdyA9IHRoaXMuc2VsZWN0ZWRMaXN0Um93KHByb3BzKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2VsZWN0ZWRSb3cgJiYgbmV3U2VsZWN0ZWRSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZmlyc3RDaGFuZ2VkUm93ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlbGVjdGVkUm93ID4gbmV3U2VsZWN0ZWRSb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3U2VsZWN0ZWRSb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudFNlbGVjdGVkUm93O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3BsaXRSb3dUZXh0cyA9IHRoaXMucHJvcHMuc3BsaXRUZXh0LnRleHRzO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpID0gZmlyc3RDaGFuZ2VkUm93LCBsZW4gPSBzcGxpdFJvd1RleHRzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA8IGxlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSsrXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93cy5wdXNoKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGlzdCh0cnVlLCBzZWxlY3RlZFJvd3MpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGluZUJyZWFrc0NoYW5nZXModGhpcy5wcm9wcywgcHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRSb3cgPSB0aGlzLnNlbGVjdGVkTGlzdFJvdyhwcm9wcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkUm93KVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93ID0gdGhpcy5zZWxlY3RlZExpc3RSb3codGhpcy5wcm9wcyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXRSb3dUZXh0cyA9IHRoaXMucHJvcHMuc3BsaXRUZXh0LnRleHRzO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkUm93cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBzZWxlY3RlZFJvdywgbGVuID0gc3BsaXRSb3dUZXh0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPCBsZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrK1xyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd3MucHVzaChpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0KHRydWUsIHNlbGVjdGVkUm93cyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5mb250U2l6ZSAhPT0gcHJvcHMuZm9udFNpemUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGlzdCh0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuYWN0aXZlQW5ub3RhdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgcHJvcHMuYWN0aXZlQW5ub3RhdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9uc0luU2FtZUxvY2F0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuYWN0aXZlQW5ub3RhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5hY3RpdmVBbm5vdGF0aW9uXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0KHRydWUsIHRoaXMuc2VsZWN0ZWRMaXN0Um93KHByb3BzKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxpc3QodGhpcy5zaG91bGRSZXNldExpc3RDYWNoZSh0aGlzLnByb3BzLCBwcm9wcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFubm90YXRpb25zSW5TYW1lTG9jYXRpb24oYW5ubzE6IEFubm90YXRpb24sIGFubm8yOiBBbm5vdGF0aW9uKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKGFubm8xLnN0YXJ0ID09PSBhbm5vMi5zdGFydCAmJiBhbm5vMS5sZW5ndGggPT09IGFubm8yLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wczogUHJvcHMpIHtcclxuICAgICAgICB0aGlzLnByb2Nlc3NQcm9wcyhwcm9wcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5yZXNpemVIYW5kbGVyID0gXy50aHJvdHRsZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlZEltYWdlSGVpZ2h0ID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0KCk7XHJcbiAgICAgICAgfSwgNjAwKS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZGVib3VuY2VkU2Nyb2xsID0gXy5kZWJvdW5jZSgobGlzdCwgaW1hZ2VsaXN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTY3JvbGxUb0lkKHsgaWQ6IGxpc3RbMF0/LnN0YXJ0LCBmcm9tOiAxIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbWFnZWxpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUltYWdlU2Nyb2xsSWQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBpbWFnZWxpc3RbMF0/LnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGltYWdlbGlzdFswXT8uZW5kLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogMSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucmVzaXplSGFuZGxlcik7XHJcblxyXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlciA9IF8uZGVib3VuY2UoKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3Rpb24oZSk7XHJcbiAgICAgICAgfSwgMjAwKS5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMuc2VsZWN0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlRG93bi5iaW5kKHRoaXMpLCB0cnVlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm1vdXNlVXAuYmluZCh0aGlzKSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzUHJvcHModGhpcy5wcm9wcyk7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUhhbmRsZXIoKTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudERpZFVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcclxuICAgICAgICB0aGlzLmltYWdlRGF0YSA9IHRoaXMucHJvcHMuaW1hZ2VEYXRhO1xyXG4gICAgICAgIGlmICh0aGlzLmltYWdlRGF0YSAhPT0gcHJldlByb3BzPy5pbWFnZURhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVkSW1hZ2VIZWlnaHQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0KHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgQWxpZ25tZW50ID0gdGhpcy5wcm9wcy50ZXh0QWxpZ25tZW50O1xyXG4gICAgICAgIHRoaXMuaW1hZ2VBbGlnbm1lbnRCeUlkID0gdGhpcy5wcm9wcy5pbWFnZUFsaWdubWVudEJ5SWQ7XHJcbiAgICAgICAgdGhpcy5TZWFyY2hTeW5jSWQgPSB0aGlzLnByb3BzLnN5bmNJZE9uU2VhcmNoIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb25kaXRpb24gPSB0aGlzLnByb3BzLmNvbmRpdGlvbjtcclxuXHJcbiAgICAgICAgbGV0IHNjcm9sbFRvSWQgPSB0aGlzLnByb3BzLnNjcm9sbFRvSWQ7XHJcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmxpc3Q7XHJcblxyXG4gICAgICAgIGxldCBjb24gPVxyXG4gICAgICAgICAgICBwcmV2UHJvcHM/LnNlYXJjaFJlc3VsdHMgIT09IHRoaXMucHJvcHM/LnNlYXJjaFJlc3VsdHMgfHxcclxuICAgICAgICAgICAgcHJldlByb3BzPy5zeW5jSWRPblNlYXJjaCAhPT0gdGhpcy5wcm9wcz8uc3luY0lkT25TZWFyY2g7XHJcblxyXG4gICAgICAgIC8vIHNjcm9sbCB0byB3b3JkIHNlYXJjaGVkIHVzaW5nIHNlYXJjaCBpbnB1dFxyXG4gICAgICAgIGlmIChjb24gJiYgdGhpcy5wcm9wcy5zZWFyY2hSZXN1bHRzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLlNlYXJjaFN5bmNJZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkVGV4dEluZGV4ID1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNwbGl0VGV4dC5nZXRUZXh0SW5kZXhPZlBvc2l0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNlYXJjaFN5bmNJZFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsaXN0LnNjcm9sbFRvUm93KHNlbGVjdGVkVGV4dEluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5zY3JvbGxUb1Bvc2l0aW9uKGxpc3QucHJvcHMuc2Nyb2xsVG9wIC0gMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudGV4dEFsaWdubWVudEJ5SWQgPSB0aGlzLnByb3BzLnRleHRBbGlnbm1lbnRCeUlkO1xyXG4gICAgICAgIHRoaXMuaXNQYW5lbExpbmtlZCA9IHRoaXMucHJvcHMuaXNQYW5lbExpbmtlZDtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkV2luZG93ID0gdGhpcy5wcm9wcy5zZWxlY3RlZFdpbmRvdztcclxuICAgICAgICB0aGlzLnRhcmdldElkID0gdGhpcy5wcm9wcy5zeW5jSWRPbkNsaWNrO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE5vZGVzICYmIHRoaXMuc2VsZWN0ZWROb2Rlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkTm9kZXMgPSB0aGlzLnNlbGVjdGVkTm9kZXM7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkU2VnbWVudHMgPSB0aGlzLnByb3BzLnNlbGVjdGVkQW5ub3RhdGVkU2VnbWVudHM7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbFJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgIGxldCBzdGFydE5vZGUgPSBzZWxlY3RlZE5vZGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVuZE5vZGUgPSBzZWxlY3RlZE5vZGVzW3NlbGVjdGVkTm9kZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFNlZ21lbnQgPSBzZWxlY3RlZFNlZ21lbnRzW3NlbGVjdGVkU2VnbWVudHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdFNlZ21lbnQgaW5zdGFuY2VvZiBUZXh0U2VnbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZEZvclNlZ21lbnQobGFzdFNlZ21lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEVsZW1lbnQpIGVuZE5vZGUgPSBsYXN0RWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnROb2RlIGluc3RhbmNlb2YgRWxlbWVudCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGVuZE5vZGUgaW5zdGFuY2VvZiBFbGVtZW50XHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGFydE5vZGUuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbmROb2RlLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnROb2RlICYmIGVuZE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsUmFuZ2Uuc2V0U3RhcnQoc3RhcnROb2RlLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsUmFuZ2Uuc2V0RW5kKGVuZE5vZGUsIGVuZE5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsID0gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21vZGlmeWluZ1NlbGVjdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2Uoc2VsUmFuZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE5vZGVzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuX2RpZFNldEluaXRpYWxTY3JvbGxQb3NpdGlvbiAmJiB0aGlzLmxpc3QpIHtcclxuICAgICAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMubGlzdDtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5hY3RpdmVBbm5vdGF0aW9uIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdGVkU2VhcmNoUmVzdWx0XHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkVGV4dEluZGV4ID0gdGhpcy5nZXRTZWxlY3RlZFRleHRJbmRleCgpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5zY3JvbGxUb1JvdyhzZWxlY3RlZFRleHRJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2Nyb2xsVG9Sb3cgb2Z0ZW4gcG9zaXRpb25zIHRoZSBhbm5vdGF0aW9uIGF0IHRoZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJvdHRvbSBvZiB0aGUgc2NyZWVuLCBzbyBzY3JvbGwgdXAgYSBiaXRcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5zY3JvbGxUb1Bvc2l0aW9uKGxpc3QucHJvcHMuc2Nyb2xsVG9wIC0gMzAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZGlkU2V0SW5pdGlhbFNjcm9sbFBvc2l0aW9uID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9WaWRlbyBhbmQgYXVkaW8gYWxpZ25tZW50IHNjcm9sbGluZ1xyXG4gICAgICAgIGlmIChzY3JvbGxUb0lkLmZyb20gPT0gXCJ2aWRlb1wiICYmIHNjcm9sbFRvSWQuaWQpIHtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gc2Nyb2xsVG9JZC5pZDtcclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkVGV4dEluZGV4ID1cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc3BsaXRUZXh0LmdldFRleHRJbmRleE9mUG9zaXRpb24oc3RhcnQpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxpc3Quc2Nyb2xsVG9Sb3coc2VsZWN0ZWRUZXh0SW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3Quc2Nyb2xsVG9Qb3NpdGlvbihsaXN0LnByb3BzLnNjcm9sbFRvcCAtIDMwMCk7XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNjcm9sbCBjb250cm9sIGxpbmtlZCB3aXRoIGFsaWdubWVudCBvbiBjbGlja1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFdpbmRvdyA9PT0gMiAmJlxyXG4gICAgICAgICAgICBzY3JvbGxUb0lkLmZyb20gPT0gMiAmJlxyXG4gICAgICAgICAgICB0aGlzLmlzUGFuZWxMaW5rZWQgJiZcclxuICAgICAgICAgICAgdGhpcy5jb25kaXRpb24gJiZcclxuICAgICAgICAgICAgc2Nyb2xsVG9JZC5pZCAhPT0gbnVsbFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IHRoaXMubGlzdDtcclxuICAgICAgICAgICAgdGhpcy50ZXh0QWxpZ25tZW50QnlJZCA9IHRoaXMucHJvcHMudGV4dEFsaWdubWVudEJ5SWQgfHwgW107XHJcbiAgICAgICAgICAgIHRoaXMuc3BsaXRUZXh0LnN0eWxlLnNjcm9sbEJlaGF2aW9yID0gXCJzbW9vdGhcIjtcclxuICAgICAgICAgICAgaWYgKEFsaWdubWVudCAmJiB0aGlzLmlzUGFuZWxMaW5rZWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCByZXEgPSB0aGlzLnRleHRBbGlnbm1lbnRCeUlkLmZpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgKGwpID0+IGwuVFN0YXJ0ID09PSBzY3JvbGxUb0lkLmlkXHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IHJlcT8uc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRUZXh0SW5kZXggPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNwbGl0VGV4dC5nZXRUZXh0SW5kZXhPZlBvc2l0aW9uKHN0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5zY3JvbGxUb1JvdyhzZWxlY3RlZFRleHRJbmRleCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc2Nyb2xsVG9Qb3NpdGlvbihsaXN0LnByb3BzLnNjcm9sbFRvcCAtIDMwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vZm9yIHNjcm9sbGluZyB0byB0aGUgaGlnaGxpZ2h0ZWQgYWxpZ25tZW50IGlmIGl0cyBvdXRzaWRlIHZpc2libGUgRE9NXHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy50YXJnZXRJZCAmJlxyXG4gICAgICAgICAgICBzY3JvbGxUb0lkLmZyb20gPT09IFwidWFcIiAmJlxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkV2luZG93ID09PSAyICYmXHJcbiAgICAgICAgICAgIHNjcm9sbFRvSWQuaWQgPT09IFwidWFcIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBsZXQgY2xpY2tJZE9iaiA9IEFsaWdubWVudC5hbGlnbm1lbnQuZmluZChcclxuICAgICAgICAgICAgICAgIChsKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0SWQgPj0gbC50YXJnZXRfc2VnbWVudC5zdGFydCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0SWQgPCBsLnRhcmdldF9zZWdtZW50LmVuZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBsZXQgc3luY0NsaWNrVGFyZ2V0SWQgPSBjbGlja0lkT2JqPy5zb3VyY2Vfc2VnbWVudD8uc3RhcnQ7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZFRleHRJbmRleCA9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNwbGl0VGV4dC5nZXRUZXh0SW5kZXhPZlBvc2l0aW9uKHN5bmNDbGlja1RhcmdldElkKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGlzdC5zY3JvbGxUb1JvdyhzZWxlY3RlZFRleHRJbmRleCk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5zY3JvbGxUb1Bvc2l0aW9uKGxpc3QucHJvcHMuc2Nyb2xsVG9wIC0gMzAwKTtcclxuICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcyk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcyk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZXNpemVIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB0aGlzLnNlbGVjdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxjdWxhdGVJbWFnZUhlaWdodCgpIHtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5pbWFnZUhlaWdodCAmJiB0aGlzLmltYWdlV2lkdGgpIHtcclxuICAgICAgICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLmltYWdlV2lkdGggLyB0aGlzLmltYWdlSGVpZ2h0O1xyXG4gICAgICAgICAgICBjb25zdCBwZWNoYUltYWdlQ2xhc3MgPSBzdHlsZXMucGVjaGFJbWFnZTtcclxuICAgICAgICAgICAgY29uc3QgcGVjaGFJbWFnZUNvbnRhaW5lcnMgPVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShwZWNoYUltYWdlQ2xhc3MpO1xyXG4gICAgICAgICAgICBpZiAocGVjaGFJbWFnZUNvbnRhaW5lcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IHBlY2hhSW1hZ2VDb250YWluZXJzWzBdO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldFdpZHRoIC8gcmF0aW87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTZWxlY3RlZFRleHRJbmRleCgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZFRleHRJbmRleCA9IDA7XHJcbiAgICAgICAgbGV0IHN0YXJ0UG9zID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVBbm5vdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIFtzdGFydFBvc10gPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zcGxpdFRleHQuYW5ub3RhdGVkVGV4dC5nZXRQb3NpdGlvbk9mQW5ub3RhdGlvbihcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmFjdGl2ZUFubm90YXRpb25cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNlbGVjdGVkU2VhcmNoUmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGxldCBzZWdtZW50ID1cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc3BsaXRUZXh0LmFubm90YXRlZFRleHQuc2VnbWVudEF0T3JpZ2luYWxQb3NpdGlvbihcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdGVkU2VhcmNoUmVzdWx0LnN0YXJ0XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoc2VnbWVudCBpbnN0YW5jZW9mIFRleHRTZWdtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydFBvcyA9IHNlZ21lbnQuc3RhcnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0UG9zID0gc2VnbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhcnRQb3MpIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRUZXh0SW5kZXggPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zcGxpdFRleHQuZ2V0VGV4dEluZGV4T2ZQb3NpdGlvbihzdGFydFBvcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFRleHRJbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRCYXNlQW5ub3RhdGlvbihhbm5vdGF0aW9uOiBBbm5vdGF0aW9uKTogQW5ub3RhdGlvbiB7XHJcbiAgICAgICAgbGV0IFtzdGFydF0gPVxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNwbGl0VGV4dC5hbm5vdGF0ZWRUZXh0LmdldFBvc2l0aW9uT2ZBbm5vdGF0aW9uKFxyXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvblxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIGlmIChzdGFydCA9PT0gbnVsbCkgc3RhcnQgPSAwO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnNwbGl0VGV4dC5hbm5vdGF0ZWRUZXh0LmdldEJhc2VBbm5vdGF0aW9uKFxyXG4gICAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgICAgYW5ub3RhdGlvbi5jb250ZW50Lmxlbmd0aFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCByb3dSZW5kZXJlciA9IHRoaXMucm93UmVuZGVyZXI7XHJcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHByb3BzLnNlbGVjdGVkV2l0bmVzcyA/IHByb3BzLnNlbGVjdGVkV2l0bmVzcy5pZCA6IDA7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnNwbGl0VGV4dH1cclxuICAgICAgICAgICAgICAgIHJlZj17KGRpdikgPT4gKHRoaXMuc3BsaXRUZXh0ID0gZGl2KX1cclxuICAgICAgICAgICAgICAgIGtleT17a2V5fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJ1cGRhdGVMaXN0XCJcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiBcIm5vbmVcIiB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVzaXplSGFuZGxlcn1cclxuICAgICAgICAgICAgICAgID48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxBdXRvU2l6ZXIgZGlzYWJsZVdpZHRoPlxyXG4gICAgICAgICAgICAgICAgICAgIHsoeyBoZWlnaHQgfSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezF9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyhsaXN0KSA9PiAodGhpcy5saXN0ID0gbGlzdCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e2hlaWdodH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0NvdW50PXtwcm9wcy5zcGxpdFRleHQudGV4dHMubGVuZ3RofVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93SGVpZ2h0PXtjYWNoZS5yb3dIZWlnaHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dSZW5kZXJlcj17cm93UmVuZGVyZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyc2NhblJvd0NvdW50PXswfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlPXtjYWNoZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2Nyb2xsPXt0aGlzLnNjcm9sbEV2ZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQ9XCJzdGFydFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJTdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9MaXN0PlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L0F1dG9TaXplcj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbWFnZVVybChwYWdlSW5kZXg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhdGhpcy5wcm9wcy5zZWxlY3RlZFdpdG5lc3MgfHxcclxuICAgICAgICAgICAgIXRoaXMucHJvcHMuc2VsZWN0ZWRXaXRuZXNzLnByb3BlcnRpZXNcclxuICAgICAgICApXHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIGxldCB3aXRuZXNzUHJvcGVydGllcyA9IHRoaXMucHJvcHMuc2VsZWN0ZWRXaXRuZXNzLnByb3BlcnRpZXM7XHJcbiAgICAgICAgbGV0IHByZWZpeCA9IHdpdG5lc3NQcm9wZXJ0aWVzW0lNQUdFX1NUQVJUX1BSRV9LRVldO1xyXG4gICAgICAgIGxldCBzdGFydCA9IHdpdG5lc3NQcm9wZXJ0aWVzW0lNQUdFX1NUQVJUX05VTUJFUl9LRVldO1xyXG4gICAgICAgIGxldCBzdWZmaXggPSB3aXRuZXNzUHJvcGVydGllc1tJTUFHRV9TVEFSVF9TVUZGSVhfS0VZXTtcclxuICAgICAgICBsZXQgaWQgPSBOdW1iZXIoc3RhcnQpICsgcGFnZUluZGV4O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlkKTtcclxuICAgICAgICBsZXQgdXJsID1cclxuICAgICAgICAgICAgSU1BR0VfVVJMX1BSRUZJWCArIHByZWZpeCArIGlkICsgXCIuXCIgKyBzdWZmaXggKyBJTUFHRV9VUkxfU1VGRklYO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHVybCk7XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdHJpbmdQb3NpdGlvbnMoXHJcbiAgICAgICAgdGV4dDogU2VnbWVudGVkVGV4dCxcclxuICAgICAgICBzdHJpbmc6IHN0cmluZyxcclxuICAgICAgICBpbmRleDogbnVtYmVyXHJcbiAgICApOiB7IFtwb3NpdGlvbjogbnVtYmVyXTogW251bWJlciwgbnVtYmVyXSB9IHtcclxuICAgICAgICBjb25zdCB1bmlxdWVJZCA9IHRoaXMucHJvcHMuc3BsaXRUZXh0LmFubm90YXRlZFRleHQuZ2V0VW5pcXVlSWQoKTtcclxuXHJcbiAgICAgICAgaWYgKCFfc2VhcmNoUmVzdWx0c0NhY2hlLmhhc093blByb3BlcnR5KHVuaXF1ZUlkKSkge1xyXG4gICAgICAgICAgICBfc2VhcmNoUmVzdWx0c0NhY2hlID0ge1xyXG4gICAgICAgICAgICAgICAgW3VuaXF1ZUlkXToge30sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIV9zZWFyY2hSZXN1bHRzQ2FjaGVbdW5pcXVlSWRdLmhhc093blByb3BlcnR5KHN0cmluZykpIHtcclxuICAgICAgICAgICAgX3NlYXJjaFJlc3VsdHNDYWNoZVt1bmlxdWVJZF0gPSB7XHJcbiAgICAgICAgICAgICAgICBbc3RyaW5nXToge30sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoX3NlYXJjaFJlc3VsdHNDYWNoZVt1bmlxdWVJZF1bc3RyaW5nXS5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9zZWFyY2hSZXN1bHRzQ2FjaGVbdW5pcXVlSWRdW3N0cmluZ11baW5kZXhdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3BsaXR0ZXIgPSBuZXcgR3JhcGhlbWVTcGxpdHRlcigpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0ZXh0LmdldFRleHQoKTtcclxuICAgICAgICBjb25zdCBmaXJzdFNlZ21lbnQgPSB0ZXh0LnNlZ21lbnRzWzBdO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0aW5nUG9zaXRpb24gPSBmaXJzdFNlZ21lbnQ/LnN0YXJ0O1xyXG4gICAgICAgIGxldCBwb3NpdGlvbnMgPSBbXTtcclxuICAgICAgICBsZXQgcG9zaXRpb24gPSBjb250ZW50LmluZGV4T2Yoc3RyaW5nKTtcclxuICAgICAgICB3aGlsZSAocG9zaXRpb24gIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBjb250ZW50LmluZGV4T2Yoc3RyaW5nLCBwb3NpdGlvbiArIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUG9zaXRpb24gbmVlZHMgdG8gYmUgcG9zaXRpb24gaW4gY29tcGxldGUgdGV4dFxyXG4gICAgICAgIGxldCB2ZXJpZmllZFBvc2l0aW9uczogeyBbcG9zaXRpb246IG51bWJlcl06IFtudW1iZXIsIG51bWJlcl0gfSA9IHt9O1xyXG4gICAgICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBncmFwaGVtZXMgPSBzcGxpdHRlci5zcGxpdEdyYXBoZW1lcyhjb250ZW50KTtcclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gMDtcclxuICAgICAgICAgICAgbGV0IGFjdGl2ZVBvc2l0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncmFwaGVtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyYXBoZW1lID0gZ3JhcGhlbWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhcGhlbWVFbmQgPSBwb3NpdGlvbiArIChncmFwaGVtZS5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVQb3NpdGlvbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBleHBlY3RlZEVuZCA9IGFjdGl2ZVBvc2l0aW9uICsgKHN0cmluZy5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JhcGhlbWVFbmQgPj0gZXhwZWN0ZWRFbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZpZWRQb3NpdGlvbnNbYWN0aXZlUG9zaXRpb24gKyBzdGFydGluZ1Bvc2l0aW9uXSA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVBvc2l0aW9uICsgc3RhcnRpbmdQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoZW1lRW5kICsgc3RhcnRpbmdQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlUG9zaXRpb24gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb25zLmluZGV4T2YocG9zaXRpb24pICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmcubGVuZ3RoID09PSBncmFwaGVtZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZpZWRQb3NpdGlvbnNbcG9zaXRpb24gKyBzdGFydGluZ1Bvc2l0aW9uXSA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICsgc3RhcnRpbmdQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXBoZW1lRW5kICsgc3RhcnRpbmdQb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmluZy5sZW5ndGggPiBncmFwaGVtZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlUG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVBvc2l0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSBncmFwaGVtZS5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9zZWFyY2hSZXN1bHRzQ2FjaGVbdW5pcXVlSWRdW3N0cmluZ11baW5kZXhdID0gdmVyaWZpZWRQb3NpdGlvbnM7XHJcblxyXG4gICAgICAgIHJldHVybiB2ZXJpZmllZFBvc2l0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICByb3dSZW5kZXJlcih7XHJcbiAgICAgICAga2V5LFxyXG4gICAgICAgIGluZGV4LFxyXG4gICAgICAgIHBhcmVudCxcclxuICAgICAgICBzdHlsZSxcclxuICAgIH06IHtcclxuICAgICAgICBrZXk6IHN0cmluZyxcclxuICAgICAgICBpbmRleDogbnVtYmVyLFxyXG4gICAgICAgIHBhcmVudDoge30sXHJcbiAgICAgICAgc3R5bGU6IHt9LFxyXG4gICAgfSk6IFJlYWN0LkVsZW1lbnQ8Q2VsbE1lYXN1cmVyPiB7XHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZTtcclxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IHBlY2hhSW1hZ2VDbGFzcyA9IHByb3BzLnNob3dJbWFnZXMgPyBzdHlsZXMucGVjaGFJbWFnZSA6IG51bGw7XHJcblxyXG4gICAgICAgIGxldCBpbWFnZVVybCA9IFwiXCI7XHJcbiAgICAgICAgLy8gaWYgKHRoaXMuaW1hZ2VEYXRhPy5hbGlnbm1lbnQgJiYgcHJvcHMuc2VsZWN0ZWRXaXRuZXNzKSB7XHJcbiAgICAgICAgLy8gICAgIGltYWdlVXJsID0gSHR0cFVybChcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMuaW1hZ2VEYXRhPy5hbGlnbm1lbnRbaW5kZXhdPy50YXJnZXRfc2VnbWVudFxyXG4gICAgICAgIC8vICAgICApO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHByb3BzLnNlbGVjdGVkV2l0bmVzcyAmJlxyXG4gICAgICAgICAgICBwcm9wcy5zZWxlY3RlZFdpdG5lc3MucHJvcGVydGllcyAmJlxyXG4gICAgICAgICAgICBwcm9wcy5zZWxlY3RlZFdpdG5lc3MucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShJTUFHRV9TVEFSVF9QUkVfS0VZKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJ1bm5pbmdcIik7XHJcbiAgICAgICAgICAgIGltYWdlVXJsID0gdGhpcy5nZXRJbWFnZVVybChpbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgc2VhcmNoU3RyaW5nUG9zaXRpb25zID0ge307XHJcbiAgICAgICAgbGV0IHNlYXJjaFZhbHVlID0gdGhpcy5wcm9wcy5zZWFyY2hWYWx1ZTtcclxuICAgICAgICBpZiAoc2VhcmNoVmFsdWUgJiYgc2VhcmNoVmFsdWUubGVuZ3RoID4gMCAmJiBwcm9wcy5zcGxpdFRleHQpIHtcclxuICAgICAgICAgICAgc2VhcmNoU3RyaW5nUG9zaXRpb25zID0gdGhpcy5nZXRTdHJpbmdQb3NpdGlvbnMoXHJcbiAgICAgICAgICAgICAgICBwcm9wcy5zcGxpdFRleHQudGV4dHNbaW5kZXhdLFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoVmFsdWUsXHJcbiAgICAgICAgICAgICAgICBpbmRleFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHBlY2hhU3R5bGVzID0ge307XHJcblxyXG4gICAgICAgIGlmIChwcm9wcy5zaG93SW1hZ2VzICYmIHBlY2hhSW1hZ2VDbGFzcyAmJiB0aGlzLmNhbGN1bGF0ZWRJbWFnZUhlaWdodCkge1xyXG4gICAgICAgICAgICBwZWNoYVN0eWxlc1tcImhlaWdodFwiXSA9IHRoaXMuY2FsY3VsYXRlZEltYWdlSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbmV3U3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHN0eWxlLmhlaWdodCArIDEwLFxyXG4gICAgICAgICAgICBjdXJzb3I6ICF0aGlzLnByb3BzLmlzQW5ub3RhdGluZyA/IFwicG9pbnRlclwiIDogXCJ0ZXh0XCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8Q2VsbE1lYXN1cmVyXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5JbmRleD17MH1cclxuICAgICAgICAgICAgICAgIGtleT17a2V5fVxyXG4gICAgICAgICAgICAgICAgcGFyZW50PXtwYXJlbnR9XHJcbiAgICAgICAgICAgICAgICByb3dJbmRleD17aW5kZXh9XHJcbiAgICAgICAgICAgICAgICBjYWNoZT17Y2FjaGV9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2tleX1cclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17bmV3U3R5bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuc3BsaXRUZXh0Um93fVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5zcGxpdFRleHRSZWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9e2BpbmRleF8ke2luZGV4fWB9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zcGxpdFRleHRSb3dDb250ZW50fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb3BzLnNob3dJbWFnZXMgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17cGVjaGFJbWFnZUNsYXNzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXtwZWNoYVN0eWxlc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlRleHQgcmVsYXRlZCBJbWFnZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmltYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2ltYWdlVXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjEwMCVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxMDAlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGluZz1cImFzeW5jXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Mb2FkPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmltYWdlV2lkdGggPT09IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5pbWFnZVdpZHRoID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5pbWFnZUhlaWdodCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0Lm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LmNhbGN1bGF0ZWRJbWFnZUhlaWdodCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC51cGRhdGVMaXN0LmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5jaGlsZFJlZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRlZFRleHQ9e3Byb3BzLnNwbGl0VGV4dC50ZXh0c1tpbmRleF19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9ucz17cHJvcHMuYW5ub3RhdGlvbnN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBbm5vdGF0aW9ucz17cHJvcHMuYWN0aXZlQW5ub3RhdGlvbnN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBbm5vdGF0aW9uPXtwcm9wcy5hY3RpdmVBbm5vdGF0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93PXtpbmRleH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU2VnbWVudElkPXtwcm9wcy5zZWxlY3RlZFNlZ21lbnRJZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25Qb3NpdGlvbnM9e3Byb3BzLmFubm90YXRpb25Qb3NpdGlvbnN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9maWx0ZXJlZFNlbGVjdGVkQW5ub3RhdGVkU2VnbWVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEJhc2VBbm5vdGF0aW9uPXt0aGlzLmdldEJhc2VBbm5vdGF0aW9uLmJpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVdpdG5lc3M9e3RoaXMucHJvcHMuc2VsZWN0ZWRXaXRuZXNzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoVmFsdWU9e3NlYXJjaFZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTZWFyY2hSZXN1bHQ9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0ZWRTZWFyY2hSZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFN0cmluZ1Bvc2l0aW9ucz17c2VhcmNoU3RyaW5nUG9zaXRpb25zfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU9e3Byb3BzLmZvbnRTaXplfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3luY0lkT25DbGljaz17dGhpcy5wcm9wcy5jaGFuZ2VTeW5jSWRPbkNsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU2Nyb2xsVG9JZD17dGhpcy5wcm9wcy5jaGFuZ2VTY3JvbGxUb0lkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWdubWVudEJ5SWQ9e3RoaXMucHJvcHMudGV4dEFsaWdubWVudEJ5SWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNvdXJjZVJhbmdlPXt0aGlzLnByb3BzLnNlbGVjdGVkU291cmNlUmFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFRhcmdldFJhbmdlPXt0aGlzLnByb3BzLnNlbGVjdGVkVGFyZ2V0UmFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTZWxlY3RlZFJhbmdlPXt0aGlzLnByb3BzLmNoYW5nZVNlbGVjdGVkUmFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb249e3RoaXMuY29uZGl0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzQW5ub3RhdGluZyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dEluZGV4ID09PSBpbmRleCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmFjdGl2ZUFubm90YXRpb24gJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFubm90YXRpb25Db250cm9sc0NvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25Qb3NpdGlvbnM9e3Byb3BzLmFubm90YXRpb25Qb3NpdGlvbnN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGVkVGV4dD17cHJvcHMuc3BsaXRUZXh0LmFubm90YXRlZFRleHR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQW5ub3RhdGlvbj17cHJvcHMuYWN0aXZlQW5ub3RhdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmU9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RTZWxlY3RlZFNlZ21lbnQ9e3RoaXMuZmlyc3RTZWxlY3RlZFNlZ21lbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BsaXRUZXh0UmVjdD17dGhpcy5zcGxpdFRleHRSZWN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudElkPXt0aGlzLnNlbGVjdGVkRWxlbWVudElkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlY2hhSW1hZ2VDbGFzcz17cGVjaGFJbWFnZUNsYXNzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwbGl0VGV4dD17cHJvcHMuc3BsaXRUZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudElkcz17dGhpcy5zZWxlY3RlZEVsZW1lbnRJZHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5saXN0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L0NlbGxNZWFzdXJlcj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlJlYWN0RE9NIiwiQXV0b1NpemVyIiwiTGlzdCIsImxvcGVubGluZ2xvZ28iLCJDZWxsTWVhc3VyZXIiLCJDZWxsTWVhc3VyZXJDYWNoZSIsIlRleHQiLCJpZEZvclNlZ21lbnQiLCJpZEZvckRlbGV0ZWRTZWdtZW50IiwiaWRGb3JJbnNlcnRpb24iLCJpZEZvclBhZ2VCcmVhayIsImlkRm9yTGluZUJyZWFrIiwiU3BsaXRUZXh0IiwiU2VnbWVudGVkVGV4dCIsInNoYWxsb3dFcXVhbCIsIkNPTlRST0xTX01BUkdJTl9MRUZUIiwiQW5ub3RhdGlvbkNvbnRyb2xzQ29udGFpbmVyIiwic3R5bGVzIiwiYW5ub3RhdGlvbkNvbnRyb2xzU3R5bGVzIiwiY29udHJvbFN0eWxlcyIsIl8iLCJUZXh0U2VnbWVudCIsIkFubm90YXRpb24iLCJBTk5PVEFUSU9OX1RZUEVTIiwiV2l0bmVzcyIsIkdyYXBoZW1lU3BsaXR0ZXIiLCJUcmFuc2Zvcm1XcmFwcGVyIiwiVHJhbnNmb3JtQ29tcG9uZW50IiwiTUlOX1NQQUNFX1JJR0hUIiwicGFyc2VJbnQiLCJpbmxpbmVXaWR0aCIsIklNQUdFX1VSTF9QUkVGSVgiLCJJTUFHRV9VUkxfU1VGRklYIiwiSU1BR0VfU1RBUlRfUFJFX0tFWSIsIklNQUdFX1NUQVJUX05VTUJFUl9LRVkiLCJJTUFHRV9TVEFSVF9TVUZGSVhfS0VZIiwiX3NlYXJjaFJlc3VsdHNDYWNoZSIsIkh0dHBVcmwiLCJkYXRhIiwiaW5jbHVkZXMiLCJTcGxpdFRleHRDb21wb25lbnQiLCJwcm9wcyIsInRleHRBbGlnbm1lbnRCeUlkIiwiY2hpbGRSZWYiLCJjcmVhdGVSZWYiLCJsaXN0Iiwic3BsaXRUZXh0IiwiY2FjaGUiLCJmaXhlZFdpZHRoIiwiaW1hZ2VBbGlnbm1lbnRCeUlkIiwiY2hhbmdlSW1hZ2VTY3JvbGxJZCIsInNwbGl0VGV4dFJlZiIsInJvd1JlbmRlcmVyIiwiYmluZCIsInRleHRMaXN0VmlzaWJsZSIsImVkaXRNZW51VmlzaWJsZSIsImlzUGFuZWxMaW5rZWQiLCJhY3RpdmVTZWxlY3Rpb24iLCJzZWxlY3RlZE5vZGVzIiwiX21vdXNlRG93biIsIl9hY3RpdmVXaXRuZXNzIiwiX2RpZFNldEluaXRpYWxTY3JvbGxQb3NpdGlvbiIsIl9tb2RpZnlpbmdTZWxlY3Rpb24iLCJpbWFnZUhlaWdodCIsImltYWdlV2lkdGgiLCJjYWxjdWxhdGVkSW1hZ2VIZWlnaHQiLCJwcm9jZXNzUHJvcHMiLCJjaGFuZ2VTY3JvbGxUb0lkIiwiY2hhbmdlU3luY0lkT25DbGljayIsImNsb3NlQW5ub3RhdGlvbiIsInNjcm9sbEp1bXAiLCJzY3JvbGxFdmVudCIsInNlbGVjdGVkV2luZG93IiwiaW1hZ2VEYXRhIiwiZSIsImltYWdlSWRMaXN0IiwibWFwIiwibCIsIm51bWJlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdGFydCIsInBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwicHVzaCIsImlkIiwidGFyZ2V0IiwiVFN0YXJ0IiwiZW5kIiwiaXNFbXB0eSIsImRlYm91bmNlZFNjcm9sbCIsInJlc2V0Q2FjaGUiLCJyZXNldFJvd3MiLCJzaG93SW1hZ2VzIiwiY2FsY3VsYXRlSW1hZ2VIZWlnaHQiLCJBcnJheSIsImlzQXJyYXkiLCJjbGVhciIsImkiLCJsZW5ndGgiLCJyZXNldFJvdyIsImNsZWFyQWxsIiwibWVhc3VyZUFsbFJvd3MiLCJyZWNvbXB1dGVSb3dIZWlnaHRzIiwiZm9yY2VVcGRhdGVHcmlkIiwic2VnbWVudElkcyIsInByb2Nlc3NTZWxlY3Rpb24iLCJkaWRTZWxlY3RTZWdtZW50SWRzIiwiZ2V0U2VsZWN0aW9uIiwibW91c2VVcCIsInN0b3BQcm9wYWdhdGlvbiIsInNlbGVjdGlvbiIsInJhbmdlQ291bnQiLCJpc0NvbGxhcHNlZCIsInR5cGUiLCJyYW5nZSIsImdldFJhbmdlQXQiLCJzdGFydENvbnRhaW5lciIsInN0YXJ0U3BhbiIsImdldE5vZGVTZWdtZW50U3BhbiIsInBhcmVudE5vZGUiLCJub2RlcyIsImdldFJhbmdlTm9kZXMiLCJmaXJzdE5vZGUiLCJzdGFydE9mZnNldCIsInRleHRDb250ZW50Iiwic2hpZnQiLCJlbmRDb250YWluZXIiLCJlbmRTcGFuIiwiY29uY2F0IiwiZW5kT2Zmc2V0IiwicG9wIiwibm9kZUlkcyIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY3VycmVudCIsIkVsZW1lbnQiLCJub2RlIiwiY3VycmVudE5vZGUiLCJzcGFuIiwidGVzdCIsInJhbmdlU3BhbnMiLCJsZW4iLCJjaGlsZE5vZGVzIiwiaW50ZXJzZWN0c05vZGUiLCJzcGxpdFRleHRDb21wb25lbnQiLCJzZWxlY3RlZFRleHRJbmRleCIsImZpcnN0U2VsZWN0ZWRTZWdtZW50Iiwic2VsZWN0ZWRFbGVtZW50SWQiLCJzcGxpdFRleHRSZWN0Iiwic2VnbWVudElkRnVuY3Rpb24iLCJzZWxlY3RlZEVsZW1lbnRJZHMiLCJzdGFydFBvcyIsImFjdGl2ZUFubm90YXRpb24iLCJhbm5vdGF0ZWRUZXh0IiwiZ2V0UG9zaXRpb25PZkFubm90YXRpb24iLCJjb25zb2xlIiwid2FybiIsInBhZ2VCcmVhayIsImxpbmVCcmVhayIsInBvc2l0aW9uRW5kIiwiZ2V0VGV4dEluZGV4T2ZQb3NpdGlvbiIsInNlbGVjdGVkQW5ub3RhdGVkU2VnbWVudHMiLCJzZWdtZW50IiwiaXNJbnNlcnRpb24iLCJpc0RlbGV0aW9uIiwicHJldlNlZ21lbnQiLCJzZWdtZW50SWQiLCJvbGRQcm9wcyIsIm5ld1Byb3BzIiwic2hvdWxkUmVzZXQiLCJwYWdlQnJlYWtzQ2hhbmdlZCIsIm9sZFRleHRCcmVha3MiLCJnZXRUZXh0c0ZpbmFsUG9zaXRpb25zIiwibmV3VGV4dEJyZWFrcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJvbGRBY3RpdmVBbm5vdGF0aW9uIiwibmV3QWN0aXZlQW5ub3RhdGlvbiIsImhhc0NoYW5nZWQiLCJpc1R5cGUiLCJhY3RpdmVBbm5vdGF0aW9ucyIsImhhc093blByb3BlcnR5IiwidW5pcXVlSWQiLCJyb3ciLCJjaGFuZ2VkV2l0bmVzcyIsInNlbGVjdGVkV2l0bmVzcyIsInNlbGVjdGVkU2VhcmNoUmVzdWx0IiwidGV4dElkIiwibG9nIiwiX2ZpbHRlcmVkU2VsZWN0ZWRBbm5vdGF0ZWRTZWdtZW50cyIsImFjYyIsImNvbnRyb2xzTWVhc3VyZW1lbnRzIiwiZ2V0Q29udHJvbHNNZWFzdXJlbWVudHMiLCJzZXRUaW1lb3V0IiwidXBkYXRlTGlzdCIsInNlbGVjdGVkUm93cyIsImN1cnJlbnRTZWxlY3RlZFJvdyIsInNlbGVjdGVkTGlzdFJvdyIsIm5ld1NlbGVjdGVkUm93IiwiZmlyc3RDaGFuZ2VkUm93Iiwic3BsaXRSb3dUZXh0cyIsInRleHRzIiwibGluZUJyZWFrc0NoYW5nZXMiLCJzZWxlY3RlZFJvdyIsImZvbnRTaXplIiwiYW5ub3RhdGlvbnNJblNhbWVMb2NhdGlvbiIsInNob3VsZFJlc2V0TGlzdENhY2hlIiwiYW5ubzEiLCJhbm5vMiIsInJlc2l6ZUhhbmRsZXIiLCJ0aHJvdHRsZSIsImRlYm91bmNlIiwiaW1hZ2VsaXN0IiwiZnJvbSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZWxlY3Rpb25IYW5kbGVyIiwiaGFuZGxlU2VsZWN0aW9uIiwibW91c2VEb3duIiwidGltZXIiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJBbGlnbm1lbnQiLCJ0ZXh0QWxpZ25tZW50IiwiU2VhcmNoU3luY0lkIiwic3luY0lkT25TZWFyY2giLCJjb25kaXRpb24iLCJzY3JvbGxUb0lkIiwiY29uIiwic2VhcmNoUmVzdWx0cyIsInNjcm9sbFRvUm93Iiwic2Nyb2xsVG9Qb3NpdGlvbiIsInNjcm9sbFRvcCIsInRhcmdldElkIiwic3luY0lkT25DbGljayIsInNlbGVjdGVkU2VnbWVudHMiLCJzZWxSYW5nZSIsImNyZWF0ZVJhbmdlIiwic3RhcnROb2RlIiwiZW5kTm9kZSIsImxhc3RTZWdtZW50IiwibGFzdEVsZW1lbnQiLCJzZXRTdGFydCIsInNldEVuZCIsInNlbCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiZ2V0U2VsZWN0ZWRUZXh0SW5kZXgiLCJzdHlsZSIsInNjcm9sbEJlaGF2aW9yIiwicmVxIiwiZmluZCIsImNsaWNrSWRPYmoiLCJhbGlnbm1lbnQiLCJ0YXJnZXRfc2VnbWVudCIsInN5bmNDbGlja1RhcmdldElkIiwic291cmNlX3NlZ21lbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xlYXJUaW1lb3V0IiwiaGVpZ2h0IiwicmF0aW8iLCJwZWNoYUltYWdlQ2xhc3MiLCJwZWNoYUltYWdlIiwicGVjaGFJbWFnZUNvbnRhaW5lcnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY29udGFpbmVyIiwib2Zmc2V0V2lkdGgiLCJzZWdtZW50QXRPcmlnaW5hbFBvc2l0aW9uIiwiYW5ub3RhdGlvbiIsImdldEJhc2VBbm5vdGF0aW9uIiwiY29udGVudCIsImtleSIsImRpdiIsImRpc3BsYXkiLCJyb3dIZWlnaHQiLCJ3aWR0aCIsIm1heFdpZHRoIiwicGFnZUluZGV4IiwicHJvcGVydGllcyIsIndpdG5lc3NQcm9wZXJ0aWVzIiwicHJlZml4Iiwic3VmZml4IiwiTnVtYmVyIiwidXJsIiwidGV4dCIsInN0cmluZyIsImluZGV4IiwiZ2V0VW5pcXVlSWQiLCJzcGxpdHRlciIsImdldFRleHQiLCJmaXJzdFNlZ21lbnQiLCJzZWdtZW50cyIsInN0YXJ0aW5nUG9zaXRpb24iLCJwb3NpdGlvbnMiLCJpbmRleE9mIiwidmVyaWZpZWRQb3NpdGlvbnMiLCJncmFwaGVtZXMiLCJzcGxpdEdyYXBoZW1lcyIsImFjdGl2ZVBvc2l0aW9uIiwiZ3JhcGhlbWUiLCJncmFwaGVtZUVuZCIsImV4cGVjdGVkRW5kIiwicGFyZW50IiwiY29tcG9uZW50IiwiaW1hZ2VVcmwiLCJnZXRJbWFnZVVybCIsInNlYXJjaFN0cmluZ1Bvc2l0aW9ucyIsInNlYXJjaFZhbHVlIiwiZ2V0U3RyaW5nUG9zaXRpb25zIiwicGVjaGFTdHlsZXMiLCJuZXdTdHlsZSIsImN1cnNvciIsImlzQW5ub3RhdGluZyIsInNwbGl0VGV4dFJvdyIsInNwbGl0VGV4dFJvd0NvbnRlbnQiLCJpbWFnZSIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJhbm5vdGF0aW9ucyIsInNlbGVjdGVkU2VnbWVudElkIiwiYW5ub3RhdGlvblBvc2l0aW9ucyIsInNlbGVjdGVkU291cmNlUmFuZ2UiLCJzZWxlY3RlZFRhcmdldFJhbmdlIiwiY2hhbmdlU2VsZWN0ZWRSYW5nZSIsIlB1cmVDb21wb25lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/components/TextDetail/SplitText.js\n");

/***/ }),

/***/ "./app/components/TextDetail/Text.js":
/*!*******************************************!*\
  !*** ./app/components/TextDetail/Text.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"idForDeletedSegment\": () => (/* binding */ idForDeletedSegment),\n/* harmony export */   \"idForInsertion\": () => (/* binding */ idForInsertion),\n/* harmony export */   \"idForLineBreak\": () => (/* binding */ idForLineBreak),\n/* harmony export */   \"idForPageBreak\": () => (/* binding */ idForPageBreak),\n/* harmony export */   \"idForSegment\": () => (/* binding */ idForSegment)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _Text_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Text.css */ \"./app/components/TextDetail/Text.css\");\n/* harmony import */ var _Text_css__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_Text_css__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var lib_TextSegment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lib/TextSegment */ \"./app/lib/TextSegment.js\");\n/* harmony import */ var lib_AnnotatedText__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lib/AnnotatedText */ \"./app/lib/AnnotatedText.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var lib_SegmentedText__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lib/SegmentedText */ \"./app/lib/SegmentedText.js\");\n/* harmony import */ var lib_Annotation__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lib/Annotation */ \"./app/lib/Annotation.js\");\n/* harmony import */ var lib_Witness__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lib/Witness */ \"./app/lib/Witness.js\");\n/* harmony import */ var grapheme_splitter__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! grapheme-splitter */ \"./node_modules/grapheme-splitter/index.js\");\n/* harmony import */ var grapheme_splitter__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(grapheme_splitter__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _mui_styles__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/styles */ \"./node_modules/@mui/styles/withTheme/withTheme.js\");\n/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! react-dom/server */ \"./node_modules/react-dom/server.browser.js\");\n/* harmony import */ var images_page_break_icon_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! images/page_break_icon.svg */ \"./app/images/page_break_icon.svg\");\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction idForSegment(segment) {\n  return \"s_\" + segment.start;\n}\nfunction idForDeletedSegment(segment) {\n  return \"ds_\" + segment.start;\n}\nfunction idForInsertion(segment) {\n  return \"i_\" + segment.start;\n}\nfunction idForPageBreak(segment) {\n  return \"p_\" + (segment.end + 1);\n}\nfunction idForLineBreak(segment) {\n  return \"l_\" + (segment.end + 1);\n}\n\n\nvar PARA_SYMBOL = String.fromCharCode(182);\nvar pageBreakIconString = react_dom_server__WEBPACK_IMPORTED_MODULE_17__.renderToStaticMarkup( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(images_page_break_icon_svg__WEBPACK_IMPORTED_MODULE_18__[\"default\"], null));\n\nvar Text = /*#__PURE__*/function (_React$Component) {\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Text, _React$Component);\n\n  var _super = _createSuper(Text);\n\n  function Text(props) {\n    var _this;\n\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, Text);\n\n    _this = _super.call(this, props);\n    _this.textAlignmentById = [];\n    _this.state = {\n      segmentedText: props.segmentedText\n    };\n    _this.textAlignmentById = _this.props.textAlignmentById;\n    _this._renderedSegments = null;\n    _this._renderedHtml = null;\n    _this.rangeSelect = [];\n    _this.theme = props.theme;\n    return _this;\n  }\n\n  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Text, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this.setState(function (prevState, props) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          segmentedText: nextProps.segmentedText\n        });\n      });\n    }\n  }, {\n    key: \"annotationsForSegment\",\n    value: function annotationsForSegment(segment) {\n      var annotations = [];\n      var foundAnnotations = this.props.annotationPositions[String(segment.start)];\n\n      if (foundAnnotations) {\n        annotations = foundAnnotations;\n      }\n\n      var insertions = this.props.annotationPositions[lib_AnnotatedText__WEBPACK_IMPORTED_MODULE_11__.INSERTION_KEY + segment.start] || [];\n      var deletions = this.props.annotationPositions[lib_AnnotatedText__WEBPACK_IMPORTED_MODULE_11__.DELETION_KEY + segment.start] || [];\n      var pageBreaks = this.props.annotationPositions[lib_AnnotatedText__WEBPACK_IMPORTED_MODULE_11__.PAGE_BREAK_KEY + (segment.end + 1)] || [];\n      var lineBreaks = this.props.annotationPositions[lib_AnnotatedText__WEBPACK_IMPORTED_MODULE_11__.LINE_BREAK_KEY + (segment.end + 1)] || [];\n      return annotations.concat(insertions, deletions, pageBreaks, lineBreaks);\n    }\n  }, {\n    key: \"segmentsContainSegment\",\n    value: function segmentsContainSegment(segments, segment) {\n      for (var i = 0; i < segments.length; i++) {\n        var listSegment = segments[i];\n\n        if (listSegment.start === segment.start && listSegment.text === segment.text) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"selectedElement\",\n    value: function selectedElement(element) {\n      if (element.tagName === \"DIV\") {\n        this.props.selectedSegmentId(\"\");\n        return;\n      }\n\n      var sourceRangeSelection = [];\n      var targetRangeSelection = [];\n      var selection = document.getSelection();\n      var clickId = parseInt(element.id.replace(\"s_\", \"\"));\n      this.props.changeSyncIdOnClick(clickId);\n\n      if (element !== null && element !== void 0 && element.id.includes(\"s_\") && this.props.condition) {\n        this.props.changeScrollToId({\n          id: null,\n          from: null\n        });\n\n        var _id = parseInt(element.id.replace(\"s_\", \"\"));\n\n        var rangeUnique = (0,lodash__WEBPACK_IMPORTED_MODULE_12__.find)(this.textAlignmentById, function (l) {\n          return _id >= l.start && _id < l.end;\n        });\n\n        if (rangeUnique) {\n          for (var i = rangeUnique.start; i < rangeUnique.end; i++) {\n            sourceRangeSelection.push(i);\n          }\n\n          for (var _i = rangeUnique.TStart; _i < rangeUnique.TEnd; _i++) {\n            targetRangeSelection.push(_i);\n          }\n\n          this.props.changeSelectedRange({\n            source: sourceRangeSelection,\n            target: targetRangeSelection\n          });\n        }\n      }\n\n      if (selection && selection.type === \"Range\") {\n        return;\n      }\n\n      this.props.selectedSegmentId(element.id);\n\n      if (!element.id) {\n        this.props.changeSelectedRange({\n          source: [],\n          target: []\n        });\n      }\n    }\n  }, {\n    key: \"generateHtml\",\n    value: function generateHtml(renderProps, renderState) {\n      var segments = renderState.segmentedText.segments;\n      var textLineClass = (_Text_css__WEBPACK_IMPORTED_MODULE_9___default().textLine);\n      var segmentHTML = '<p class=\"' + textLineClass + '\">';\n      if (segments.length === 0) return {\n        __html: segmentHTML\n      };\n      var insertionClass = (_Text_css__WEBPACK_IMPORTED_MODULE_9___default().insertion);\n      var endPosition = segments[segments.length - 1].end + 1;\n\n      if (renderProps.annotationPositions[lib_AnnotatedText__WEBPACK_IMPORTED_MODULE_11__.INSERTION_KEY + endPosition]) {\n        var endSegment = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_10__[\"default\"](endPosition, \"\");\n        segments.push(endSegment);\n      }\n\n      if (renderProps.annotationPositions[lib_AnnotatedText__WEBPACK_IMPORTED_MODULE_11__.PAGE_BREAK_KEY + endPosition]) {\n        var _endSegment = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_10__[\"default\"](endPosition, \"\");\n\n        segments.push(_endSegment);\n      }\n\n      if (renderProps.annotationPositions[lib_AnnotatedText__WEBPACK_IMPORTED_MODULE_11__.LINE_BREAK_KEY + endPosition]) {\n        var _endSegment2 = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_10__[\"default\"](endPosition, \"\");\n\n        segments.push(_endSegment2);\n      }\n\n      var activeAnnotations = renderProps.activeAnnotations || {};\n      var highlightClass = (_Text_css__WEBPACK_IMPORTED_MODULE_9___default().highlight);\n      var activeHighlightClass = (_Text_css__WEBPACK_IMPORTED_MODULE_9___default().activeHighlight);\n      var activeSearchResultEnd = null;\n      var processedInactiveInsertions = {};\n\n      for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n        var classAttribute = \"\";\n        var classes = [];\n        var annotations = this.annotationsForSegment(segment);\n        var deletionText = null;\n        var selectedCurrentDeletion = false;\n        var selectedCurrentPageBreak = false;\n        var selectedCurrentLineBreak = false;\n        var lineBreakAnnotation = false;\n        var pageBreakAnnotation = null;\n\n        if (annotations) {\n          var activeInsertions = [];\n          var inactiveInsertions = [];\n          var remainingAnnotations = [];\n          var activeDeletions = [];\n\n          for (var j = 0, len = annotations.length; j < len; j++) {\n            var _annotation = annotations[j];\n\n            if (_annotation.isInsertion) {\n              if (_annotation.uniqueId in activeAnnotations) {\n                activeInsertions.push(_annotation);\n              } else {\n                // Only first inactive insertion at a position will\n                // be shown, so only process first one.\n                // TODO: need to check if there is an active insertion\n                // at the same place. If so, ignore inactive insertion\n                // as they should be shown in the popover.\n                var annotationKey = _annotation.start;\n\n                if (!processedInactiveInsertions.hasOwnProperty(annotationKey)) {\n                  inactiveInsertions.push(_annotation);\n                  processedInactiveInsertions[annotationKey] = _annotation;\n                }\n              }\n            } else {\n              if (_annotation.isDeletion) {\n                if (_annotation.uniqueId in activeAnnotations) {\n                  activeDeletions.push(_annotation);\n                }\n              } else if (_annotation.type === lib_Annotation__WEBPACK_IMPORTED_MODULE_14__.ANNOTATION_TYPES.pageBreak && !renderProps.activeWitness.isWorking) {\n                pageBreakAnnotation = _annotation;\n              } else if (_annotation.type === lib_Annotation__WEBPACK_IMPORTED_MODULE_14__.ANNOTATION_TYPES.lineBreak && !renderProps.activeWitness.isWorking) {\n                lineBreakAnnotation = _annotation;\n              } else {\n                remainingAnnotations.push(_annotation);\n              }\n            }\n          }\n\n          if (activeInsertions.length === 0 && inactiveInsertions.length > 0) {\n            var insertion = inactiveInsertions[0];\n            var insertionId = idForInsertion(segment);\n            var insertionClasses = insertionClass;\n\n            if (renderProps.activeAnnotation && renderProps.activeAnnotation.isInsertion && renderProps.activeAnnotation.start === insertion.start) {\n              insertionClasses += \" \" + (_Text_css__WEBPACK_IMPORTED_MODULE_9___default().selectedAnnotation);\n            }\n\n            segmentHTML += \"<span id=\" + insertionId + \" key=\" + insertionId + ' class=\"' + insertionClasses + '\">' + insertion.content + \"</span>\";\n          }\n\n          if (activeDeletions.length > 0) {\n            var activeDeletion = activeDeletions[0];\n            var baseAnnotation = renderProps.getBaseAnnotation(activeDeletion);\n            deletionText = baseAnnotation.content;\n\n            if (renderProps.activeAnnotation && renderProps.activeAnnotation.isDeletion && renderProps.activeAnnotation.start === activeDeletion.start && renderProps.activeAnnotation.length === activeDeletion.length && segment.length === 0) {\n              selectedCurrentDeletion = true;\n            }\n          }\n\n          if (pageBreakAnnotation) {\n            if (renderProps.activeAnnotation && renderProps.activeAnnotation.uniqueId === pageBreakAnnotation.uniqueId) {\n              selectedCurrentPageBreak = true;\n            }\n          }\n\n          if (lineBreakAnnotation) {\n            if (renderProps.activeAnnotation && renderProps.activeAnnotation.uniqueId === lineBreakAnnotation.uniqueId) {\n              selectedCurrentLineBreak = true;\n            }\n          }\n\n          if (remainingAnnotations.length > 0 || activeInsertions.length > 0) {\n            classes.push((_Text_css__WEBPACK_IMPORTED_MODULE_9___default().annotation));\n          }\n        } // It's an insertion at the end of the text, which should have just been added to the html.\n        // So break as we don't want anymore segment html adding.\n\n\n        if (segment.start === endPosition) {\n          break;\n        }\n\n        var _id2 = null;\n\n        if (segment.length === 0) {\n          _id2 = idForDeletedSegment(segment);\n          classes.push((_Text_css__WEBPACK_IMPORTED_MODULE_9___default().removedByAnnotation));\n\n          if (deletionText) {\n            segment = new lib_TextSegment__WEBPACK_IMPORTED_MODULE_10__[\"default\"](segment.start, deletionText);\n          }\n        } else {\n          _id2 = idForSegment(segment);\n        }\n\n        if (this.segmentsContainSegment(renderProps.selectedAnnotatedSegments, segment) || selectedCurrentDeletion) {\n          classes.push((_Text_css__WEBPACK_IMPORTED_MODULE_9___default().selectedAnnotation));\n        }\n\n        if (renderProps.selectedSourceRange.includes(segment.start) && renderProps.condition) {\n          var newClass = renderProps.theme.palette.mode === \"light\" ? (_Text_css__WEBPACK_IMPORTED_MODULE_9___default().selectedRangelight) : (_Text_css__WEBPACK_IMPORTED_MODULE_9___default().selectedRangeDark);\n          classes.push(newClass);\n        }\n\n        if (classes.length > 0) {\n          var className = classnames__WEBPACK_IMPORTED_MODULE_8___default().apply(void 0, classes);\n          classAttribute = 'class=\"' + className + '\"';\n        }\n\n        var segmentContent = segment.text; // Add search result highlight if required.\n\n        if (renderProps.searchStringPositions) {\n          var segmentStart = segment.start;\n          var _position = segmentStart;\n          segmentContent = \"\";\n          var highlight = highlightClass;\n\n          if (renderProps.selectedSearchResult && renderProps.selectedSearchResult.start <= _position && renderProps.selectedSearchResult.start + renderProps.selectedSearchResult.length > _position) {\n            highlight = activeHighlightClass;\n          }\n\n          for (var _j = 0; _j < segment.text.length; _j++) {\n            var _char = segment.text.charAt(_j);\n\n            _position = segmentStart + _j;\n\n            if (activeSearchResultEnd) {\n              var _activeSearchResultEn = activeSearchResultEnd,\n                  _activeSearchResultEn2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_activeSearchResultEn, 2),\n                  start = _activeSearchResultEn2[0],\n                  end = _activeSearchResultEn2[1];\n\n              if (_j === 0) {\n                segmentContent += '<span class=\"' + highlight + '\">';\n              }\n\n              if (_position === end) {\n                segmentContent += _char + \"</span>\";\n                activeSearchResultEnd = null;\n              } else if (_j === segment.text.length - 1) {\n                segmentContent += _char + \"</span>\";\n              } else {\n                segmentContent += _char;\n              }\n            } else if (_position in renderProps.searchStringPositions) {\n              var _renderProps$searchSt = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(renderProps.searchStringPositions[_position], 2),\n                  _start = _renderProps$searchSt[0],\n                  _end = _renderProps$searchSt[1];\n\n              segmentContent += '<span class=\"' + highlight + '\">' + _char;\n\n              if (_j === segment.text.length - 1 || _position === _end) {\n                segmentContent += \"</span>\";\n              }\n\n              if (_position < _end) {\n                activeSearchResultEnd = [_start, _end];\n              }\n            } else {\n              segmentContent += _char;\n            }\n          }\n        }\n\n        segmentHTML += \"<span id=\" + _id2 + \" key=\" + _id2 + \" \" + classAttribute + \">\" + segmentContent + \"</span>\";\n\n        if (pageBreakAnnotation) {\n          var pageBreakClasses = [(_Text_css__WEBPACK_IMPORTED_MODULE_9___default().pageBreak)];\n\n          if (selectedCurrentPageBreak) {\n            pageBreakClasses.push((_Text_css__WEBPACK_IMPORTED_MODULE_9___default().selectedAnnotation));\n          }\n\n          var pageBreakClassAttribute = ' class=\"' + pageBreakClasses.join(\" \") + '\" ';\n          segmentHTML += \"<span id=\" + idForPageBreak(segment) + \" key=\" + idForPageBreak(segment) + pageBreakClassAttribute + \">\" + pageBreakIconString + \"</span>\";\n        }\n\n        if (lineBreakAnnotation) {\n          var lineBreakClasses = [(_Text_css__WEBPACK_IMPORTED_MODULE_9___default().lineBreak)];\n\n          if (selectedCurrentLineBreak) {\n            lineBreakClasses.push((_Text_css__WEBPACK_IMPORTED_MODULE_9___default().selectedAnnotation));\n          }\n\n          var lineBreakClassAttribute = ' class=\"' + lineBreakClasses.join(\" \") + '\" ';\n          segmentHTML += \"<span id=\" + idForLineBreak(segment) + \" key=\" + idForLineBreak(segment) + lineBreakClassAttribute + \">\" + PARA_SYMBOL + \"</span>\";\n          segmentHTML += '</p><p class=\"' + textLineClass + '\">';\n        }\n      }\n\n      this._renderedSegments = segments;\n      segmentHTML += \"</p>\";\n      var html = {\n        __html: segmentHTML\n      };\n      return html;\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var renderedHtml = this.generateHtml(nextProps, nextState);\n\n      if (this.props.fontSize !== nextProps.fontSize) {\n        return true;\n      } else if (this._renderedHtml && renderedHtml.__html === this._renderedHtml.__html) {\n        return false;\n      } else {\n        this._renderedHtml = renderedHtml;\n        return true;\n      } // return false;\n\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.textAlignmentById = this.props.textAlignmentById;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = [(_Text_css__WEBPACK_IMPORTED_MODULE_9___default().text)];\n\n      if (this.props.row === 0) {\n        classes.push((_Text_css__WEBPACK_IMPORTED_MODULE_9___default().textFirstRow));\n      } // Generate HTML manually as it is much faster when\n      // creating large numbers of elements, such as these spans.\n\n\n      var html = this._renderedHtml ? this._renderedHtml : this.generateHtml(this.props, this.state);\n\n      if (!this._renderedHtml) {\n        this._renderedHtml = html;\n      }\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n        className: (_Text_css__WEBPACK_IMPORTED_MODULE_9___default().textContainer)\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default().createElement(\"div\", {\n        className: classnames__WEBPACK_IMPORTED_MODULE_8___default().apply(void 0, classes),\n        id: \"text1\",\n        dangerouslySetInnerHTML: html,\n        style: {\n          fontSize: this.props.fontSize,\n          fontFamily: \"var(--tibetan-fonts)\"\n        },\n        onClick: function onClick(e) {\n          _this2.selectedElement(e.target);\n        }\n      }));\n    }\n  }]);\n\n  return Text;\n}((react__WEBPACK_IMPORTED_MODULE_7___default().Component));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_mui_styles__WEBPACK_IMPORTED_MODULE_19__[\"default\"])(Text));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvY29tcG9uZW50cy9UZXh0RGV0YWlsL1RleHQuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVPLFNBQVNnQixZQUFULENBQXNCQyxPQUF0QixFQUFvRDtFQUN2RCxPQUFPLE9BQU9BLE9BQU8sQ0FBQ0MsS0FBdEI7QUFDSDtBQUVNLFNBQVNDLG1CQUFULENBQTZCRixPQUE3QixFQUEyRDtFQUM5RCxPQUFPLFFBQVFBLE9BQU8sQ0FBQ0MsS0FBdkI7QUFDSDtBQUVNLFNBQVNFLGNBQVQsQ0FBd0JILE9BQXhCLEVBQXNEO0VBQ3pELE9BQU8sT0FBT0EsT0FBTyxDQUFDQyxLQUF0QjtBQUNIO0FBRU0sU0FBU0csY0FBVCxDQUF3QkosT0FBeEIsRUFBc0Q7RUFDekQsT0FBTyxRQUFRQSxPQUFPLENBQUNLLEdBQVIsR0FBYyxDQUF0QixDQUFQO0FBQ0g7QUFFTSxTQUFTQyxjQUFULENBQXdCTixPQUF4QixFQUFzRDtFQUN6RCxPQUFPLFFBQVFBLE9BQU8sQ0FBQ0ssR0FBUixHQUFjLENBQXRCLENBQVA7QUFDSDtBQStCRDtBQUNBO0FBQ0EsSUFBTUksV0FBVyxHQUFHQyxNQUFNLENBQUNDLFlBQVAsQ0FBb0IsR0FBcEIsQ0FBcEI7QUFDQSxJQUFNQyxtQkFBbUIsR0FBR0wsbUVBQUEsZUFDeEIsMkRBQUMsbUVBQUQsT0FEd0IsQ0FBNUI7O0lBR01POzs7OztFQU1GLGNBQVlDLEtBQVosRUFBMEI7SUFBQTs7SUFBQTs7SUFDdEIsMEJBQU1BLEtBQU47SUFDQSxNQUFLQyxpQkFBTCxHQUF5QixFQUF6QjtJQUNBLE1BQUtDLEtBQUwsR0FBYTtNQUNUQyxhQUFhLEVBQUVILEtBQUssQ0FBQ0c7SUFEWixDQUFiO0lBR0EsTUFBS0YsaUJBQUwsR0FBeUIsTUFBS0QsS0FB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UztNQUFBOztNQUNMLElBQUltRSxPQUFPLEdBQUcsQ0FBQ2xHLHVEQUFELENBQWQ7O01BQ0EsSUFBSSxLQUFLOEIsS0FBTCxDQUFXK0gsR0FBWCxLQUFtQixDQUF2QixFQUEwQjtRQUN0QjNELE9BQU8sQ0FBQ3pCLElBQVIsQ0FBYXpFLCtEQUFiO01BQ0gsQ0FKSSxDQUtMO01BQ0E7OztNQUNBLElBQU13SixJQUFJLEdBQUcsS0FBS3JILGFBQUwsR0FDUCxLQUFLQSxhQURFLEdBRVAsS0FBS3dILFlBQUwsQ0FBa0IsS0FBSzdILEtBQXZCLEVBQThCLEtBQUtFLEtBQW5DLENBRk47O01BR0EsSUFBSSxDQUFDLEtBQUtHLGFBQVYsRUFBeUI7UUFDckIsS0FBS0EsYUFBTCxHQUFxQnFILElBQXJCO01BQ0g7O01BQ0Qsb0JBQ0k7UUFBSyxTQUFTLEVBQUV4SixnRUFBb0IrSjtNQUFwQyxnQkFDSTtRQUNJLFNBQVMsRUFBRWhLLHVEQUFBLFNBQWNtRyxPQUFkLENBRGY7UUFFSSxFQUFFLEVBQUMsT0FGUDtRQUdJLHVCQUF1QixFQUFFc0QsSUFIN0I7UUFJSSxLQUFLLEVBQUU7VUFDSEksUUFBUSxFQUFFLEtBQUs5SCxLQUFMLENBQVc4SCxRQURsQjtVQUVISSxVQUFVLEVBQUU7UUFGVCxDQUpYO1FBUUksT0FBTyxFQUFFLGlCQUFDQyxDQUFELEVBQU87VUFDWixNQUFJLENBQUNDLGVBQUwsQ0FBcUJELENBQUMsQ0FBQ25GLE1BQXZCO1FBQ0g7TUFWTCxFQURKLENBREo7SUFnQkg7Ozs7RUExZGNoRjs7QUE2ZG5CLGlFQUFlZSx3REFBUyxDQUFDZ0IsSUFBRCxDQUF4QiIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbWludXNjbGllbnQvLi9hcHAvY29tcG9uZW50cy9UZXh0RGV0YWlsL1RleHQuanM/NGY0MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xyXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XHJcbmltcG9ydCBzdHlsZXMgZnJvbSBcIi4vVGV4dC5jc3NcIjtcclxuaW1wb3J0IFRleHRTZWdtZW50IGZyb20gXCJsaWIvVGV4dFNlZ21lbnRcIjtcclxuaW1wb3J0IHtcclxuICAgIElOU0VSVElPTl9LRVksXHJcbiAgICBERUxFVElPTl9LRVksXHJcbiAgICBQQUdFX0JSRUFLX0tFWSxcclxuICAgIExJTkVfQlJFQUtfS0VZLFxyXG59IGZyb20gXCJsaWIvQW5ub3RhdGVkVGV4dFwiO1xyXG5pbXBvcnQgXyBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCBTZWdtZW50ZWRUZXh0IGZyb20gXCJsaWIvU2VnbWVudGVkVGV4dFwiO1xyXG5pbXBvcnQgQW5ub3RhdGlvbiBmcm9tIFwibGliL0Fubm90YXRpb25cIjtcclxuaW1wb3J0IFdpdG5lc3MgZnJvbSBcImxpYi9XaXRuZXNzXCI7XHJcbmltcG9ydCB7IEFOTk9UQVRJT05fVFlQRVMgfSBmcm9tIFwibGliL0Fubm90YXRpb25cIjtcclxuaW1wb3J0IHR5cGUgeyBBbm5vdGF0aW9uVW5pcXVlSWQgfSBmcm9tIFwibGliL0Fubm90YXRpb25cIjtcclxuaW1wb3J0IEdyYXBoZW1lU3BsaXR0ZXIgZnJvbSBcImdyYXBoZW1lLXNwbGl0dGVyXCI7XHJcbmltcG9ydCB7IGZpbmQgfSBmcm9tIFwibG9kYXNoXCI7XHJcbmltcG9ydCB7IHdpdGhUaGVtZSB9IGZyb20gXCJAbXVpL3N0eWxlc1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlkRm9yU2VnbWVudChzZWdtZW50OiBUZXh0U2VnbWVudCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gXCJzX1wiICsgc2VnbWVudC5zdGFydDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlkRm9yRGVsZXRlZFNlZ21lbnQoc2VnbWVudDogVGV4dFNlZ21lbnQpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIFwiZHNfXCIgKyBzZWdtZW50LnN0YXJ0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaWRGb3JJbnNlcnRpb24oc2VnbWVudDogVGV4dFNlZ21lbnQpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIFwiaV9cIiArIHNlZ21lbnQuc3RhcnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpZEZvclBhZ2VCcmVhayhzZWdtZW50OiBUZXh0U2VnbWVudCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gXCJwX1wiICsgKHNlZ21lbnQuZW5kICsgMSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpZEZvckxpbmVCcmVhayhzZWdtZW50OiBUZXh0U2VnbWVudCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gXCJsX1wiICsgKHNlZ21lbnQuZW5kICsgMSk7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFByb3BzID0ge1xyXG4gICAgc2VnbWVudGVkVGV4dDogU2VnbWVudGVkVGV4dCxcclxuICAgIGFubm90YXRpb25Qb3NpdGlvbnM6IHsgW3N0cmluZ106IEFubm90YXRpb25bXSB9LFxyXG4gICAgc2VsZWN0ZWRTZWdtZW50SWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkLFxyXG4gICAgYWN0aXZlQW5ub3RhdGlvbnM6IHsgW0Fubm90YXRpb25VbmlxdWVJZF06IEFubm90YXRpb24gfSB8IG51bGwsXHJcbiAgICBnZXRCYXNlQW5ub3RhdGlvbjogKGFubm90YXRpb246IEFubm90YXRpb24pID0+IEFubm90YXRpb24sXHJcbiAgICBzZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzOiBUZXh0U2VnbWVudFtdLFxyXG4gICAgcm93OiBudW1iZXIsXHJcbiAgICBhY3RpdmVBbm5vdGF0aW9uOiBBbm5vdGF0aW9uIHwgbnVsbCxcclxuICAgIHNlYXJjaFZhbHVlOiBzdHJpbmcgfCBudWxsLFxyXG4gICAgc2VsZWN0ZWRTZWFyY2hSZXN1bHQ6IHtcclxuICAgICAgICB0ZXh0SWQ6IG51bWJlcixcclxuICAgICAgICBzdGFydDogbnVtYmVyLFxyXG4gICAgICAgIGxlbmd0aDogbnVtYmVyLFxyXG4gICAgfSB8IG51bGwsXHJcbiAgICBzZWFyY2hTdHJpbmdQb3NpdGlvbnM6IHsgW3Bvc2l0aW9uOiBudW1iZXJdOiBbbnVtYmVyLCBudW1iZXJdIH0sXHJcbiAgICBmb250U2l6ZT86IG51bWJlcixcclxuICAgIGFjdGl2ZVdpdG5lc3M6IFdpdG5lc3MsXHJcbiAgICBjaGFuZ2VTeW5jSWRPbkNsaWNrOiAoKSA9PiB2b2lkLFxyXG4gICAgY2hhbmdlU2Nyb2xsVG9JZDogKCkgPT4gdm9pZCxcclxuICAgIHRleHRBbGlnbm1lbnRCeUlkOiB7fSxcclxuICAgIHNlbGVjdGVkU291cmNlUmFuZ2U6IFtdLFxyXG4gICAgc2VsZWN0ZWRUYXJnZXRSYW5nZTogW10sXHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBTdGF0ZSA9IHtcclxuICAgIHNlZ21lbnRlZFRleHQ6IFNlZ21lbnRlZFRleHQsXHJcbn07XHJcblxyXG5pbXBvcnQgUmVhY3RET01TZXJ2ZXIgZnJvbSBcInJlYWN0LWRvbS9zZXJ2ZXJcIjtcclxuaW1wb3J0IFBhZ2VCcmVha0ljb24gZnJvbSBcImltYWdlcy9wYWdlX2JyZWFrX2ljb24uc3ZnXCI7XHJcbmNvbnN0IFBBUkFfU1lNQk9MID0gU3RyaW5nLmZyb21DaGFyQ29kZSgxODIpO1xyXG5jb25zdCBwYWdlQnJlYWtJY29uU3RyaW5nID0gUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdGF0aWNNYXJrdXAoXHJcbiAgICA8UGFnZUJyZWFrSWNvbiAvPlxyXG4pO1xyXG5jbGFzcyBUZXh0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG4gICAgX3JlbmRlcmVkU2VnbWVudHM6IFRleHRTZWdtZW50W10gfCBudWxsO1xyXG4gICAgX3JlbmRlcmVkSHRtbDogeyBfX2h0bWw6IHN0cmluZyB9IHwgbnVsbDtcclxuICAgIHRleHRBbGlnbm1lbnRCeUlkO1xyXG4gICAgcmFuZ2VTZWxlY3Q7XHJcbiAgICB0aGVtZTtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuICAgICAgICB0aGlzLnRleHRBbGlnbm1lbnRCeUlkID0gW107XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgc2VnbWVudGVkVGV4dDogcHJvcHMuc2VnbWVudGVkVGV4dCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMudGV4dEFsaWdubWVudEJ5SWQgPSB0aGlzLnByb3BzLnRleHRBbGlnbm1lbnRCeUlkO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkU2VnbWVudHMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkSHRtbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yYW5nZVNlbGVjdCA9IFtdO1xyXG4gICAgICAgIHRoaXMudGhlbWUgPSBwcm9wcy50aGVtZTtcclxuICAgIH1cclxuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogUHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGU6IFN0YXRlLCBwcm9wczogUHJvcHMpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIC4uLnByZXZTdGF0ZSxcclxuICAgICAgICAgICAgICAgIHNlZ21lbnRlZFRleHQ6IG5leHRQcm9wcy5zZWdtZW50ZWRUZXh0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFubm90YXRpb25zRm9yU2VnbWVudChzZWdtZW50OiBUZXh0U2VnbWVudCk6IEFubm90YXRpb25bXSB7XHJcbiAgICAgICAgbGV0IGFubm90YXRpb25zOiBBbm5vdGF0aW9uW10gPSBbXTtcclxuICAgICAgICBjb25zdCBmb3VuZEFubm90YXRpb25zID1cclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5hbm5vdGF0aW9uUG9zaXRpb25zW1N0cmluZyhzZWdtZW50LnN0YXJ0KV07XHJcbiAgICAgICAgaWYgKGZvdW5kQW5ub3RhdGlvbnMpIHtcclxuICAgICAgICAgICAgYW5ub3RhdGlvbnMgPSBmb3VuZEFubm90YXRpb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpbnNlcnRpb25zID1cclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5hbm5vdGF0aW9uUG9zaXRpb25zW0lOU0VSVElPTl9LRVkgKyBzZWdtZW50LnN0YXJ0XSB8fCBbXTtcclxuICAgICAgICBjb25zdCBkZWxldGlvbnMgPVxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmFubm90YXRpb25Qb3NpdGlvbnNbREVMRVRJT05fS0VZICsgc2VnbWVudC5zdGFydF0gfHwgW107XHJcbiAgICAgICAgY29uc3QgcGFnZUJyZWFrcyA9XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuYW5ub3RhdGlvblBvc2l0aW9uc1tcclxuICAgICAgICAgICAgICAgIFBBR0VfQlJFQUtfS0VZICsgKHNlZ21lbnQuZW5kICsgMSlcclxuICAgICAgICAgICAgXSB8fCBbXTtcclxuICAgICAgICBjb25zdCBsaW5lQnJlYWtzID1cclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5hbm5vdGF0aW9uUG9zaXRpb25zW1xyXG4gICAgICAgICAgICAgICAgTElORV9CUkVBS19LRVkgKyAoc2VnbWVudC5lbmQgKyAxKVxyXG4gICAgICAgICAgICBdIHx8IFtdO1xyXG5cclxuICAgICAgICByZXR1cm4gYW5ub3RhdGlvbnMuY29uY2F0KFxyXG4gICAgICAgICAgICBpbnNlcnRpb25zLFxyXG4gICAgICAgICAgICBkZWxldGlvbnMsXHJcbiAgICAgICAgICAgIHBhZ2VCcmVha3MsXHJcbiAgICAgICAgICAgIGxpbmVCcmVha3NcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHNlZ21lbnRzQ29udGFpblNlZ21lbnQoc2VnbWVudHM6IFRleHRTZWdtZW50W10sIHNlZ21lbnQ6IFRleHRTZWdtZW50KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbGlzdFNlZ21lbnQgPSBzZWdtZW50c1tpXTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgbGlzdFNlZ21lbnQuc3RhcnQgPT09IHNlZ21lbnQuc3RhcnQgJiZcclxuICAgICAgICAgICAgICAgIGxpc3RTZWdtZW50LnRleHQgPT09IHNlZ21lbnQudGV4dFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzZWxlY3RlZEVsZW1lbnQoZWxlbWVudDogRWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09IFwiRElWXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RlZFNlZ21lbnRJZChcIlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc291cmNlUmFuZ2VTZWxlY3Rpb24gPSBbXTtcclxuICAgICAgICBsZXQgdGFyZ2V0UmFuZ2VTZWxlY3Rpb24gPSBbXTtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICB2YXIgY2xpY2tJZCA9IHBhcnNlSW50KGVsZW1lbnQuaWQucmVwbGFjZShcInNfXCIsIFwiXCIpKTtcclxuICAgICAgICB0aGlzLnByb3BzLmNoYW5nZVN5bmNJZE9uQ2xpY2soY2xpY2tJZCk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQ/LmlkLmluY2x1ZGVzKFwic19cIikgJiYgdGhpcy5wcm9wcy5jb25kaXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VTY3JvbGxUb0lkKHsgaWQ6IG51bGwsIGZyb206IG51bGwgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaWQgPSBwYXJzZUludChlbGVtZW50LmlkLnJlcGxhY2UoXCJzX1wiLCBcIlwiKSk7XHJcbiAgICAgICAgICAgIGxldCByYW5nZVVuaXF1ZSA9IGZpbmQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRBbGlnbm1lbnRCeUlkLFxyXG4gICAgICAgICAgICAgICAgKGwpID0+IGlkID49IGwuc3RhcnQgJiYgaWQgPCBsLmVuZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAocmFuZ2VVbmlxdWUpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSByYW5nZVVuaXF1ZS5zdGFydDsgaSA8IHJhbmdlVW5pcXVlLmVuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlUmFuZ2VTZWxlY3Rpb24ucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSByYW5nZVVuaXF1ZS5UU3RhcnQ7IGkgPCByYW5nZVVuaXF1ZS5URW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRSYW5nZVNlbGVjdGlvbi5wdXNoKGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGFuZ2VTZWxlY3RlZFJhbmdlKHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZVJhbmdlU2VsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0UmFuZ2VTZWxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24udHlwZSA9PT0gXCJSYW5nZVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RlZFNlZ21lbnRJZChlbGVtZW50LmlkKTtcclxuXHJcbiAgICAgICAgaWYgKCFlbGVtZW50LmlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY2hhbmdlU2VsZWN0ZWRSYW5nZSh7IHNvdXJjZTogW10sIHRhcmdldDogW10gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlSHRtbChyZW5kZXJQcm9wczogUHJvcHMsIHJlbmRlclN0YXRlOiBTdGF0ZSk6IHsgX19odG1sOiBzdHJpbmcgfSB7XHJcbiAgICAgICAgbGV0IHNlZ21lbnRzID0gcmVuZGVyU3RhdGUuc2VnbWVudGVkVGV4dC5zZWdtZW50cztcclxuXHJcbiAgICAgICAgbGV0IHRleHRMaW5lQ2xhc3MgPSBzdHlsZXMudGV4dExpbmU7XHJcbiAgICAgICAgbGV0IHNlZ21lbnRIVE1MID0gJzxwIGNsYXNzPVwiJyArIHRleHRMaW5lQ2xhc3MgKyAnXCI+JztcclxuICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4geyBfX2h0bWw6IHNlZ21lbnRIVE1MIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGluc2VydGlvbkNsYXNzID0gc3R5bGVzLmluc2VydGlvbjtcclxuICAgICAgICBjb25zdCBlbmRQb3NpdGlvbiA9IHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdLmVuZCArIDE7XHJcbiAgICAgICAgaWYgKHJlbmRlclByb3BzLmFubm90YXRpb25Qb3NpdGlvbnNbSU5TRVJUSU9OX0tFWSArIGVuZFBvc2l0aW9uXSkge1xyXG4gICAgICAgICAgICBjb25zdCBlbmRTZWdtZW50ID0gbmV3IFRleHRTZWdtZW50KGVuZFBvc2l0aW9uLCBcIlwiKTtcclxuICAgICAgICAgICAgc2VnbWVudHMucHVzaChlbmRTZWdtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlbmRlclByb3BzLmFubm90YXRpb25Qb3NpdGlvbnNbUEFHRV9CUkVBS19LRVkgKyBlbmRQb3NpdGlvbl0pIHtcclxuICAgICAgICAgICAgY29uc3QgZW5kU2VnbWVudCA9IG5ldyBUZXh0U2VnbWVudChlbmRQb3NpdGlvbiwgXCJcIik7XHJcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goZW5kU2VnbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZW5kZXJQcm9wcy5hbm5vdGF0aW9uUG9zaXRpb25zW0xJTkVfQlJFQUtfS0VZICsgZW5kUG9zaXRpb25dKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZFNlZ21lbnQgPSBuZXcgVGV4dFNlZ21lbnQoZW5kUG9zaXRpb24sIFwiXCIpO1xyXG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKGVuZFNlZ21lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGFjdGl2ZUFubm90YXRpb25zID0gcmVuZGVyUHJvcHMuYWN0aXZlQW5ub3RhdGlvbnMgfHwge307XHJcblxyXG4gICAgICAgIGxldCBoaWdobGlnaHRDbGFzcyA9IHN0eWxlcy5oaWdobGlnaHQ7XHJcbiAgICAgICAgbGV0IGFjdGl2ZUhpZ2hsaWdodENsYXNzID0gc3R5bGVzLmFjdGl2ZUhpZ2hsaWdodDtcclxuICAgICAgICBsZXQgYWN0aXZlU2VhcmNoUmVzdWx0RW5kID0gbnVsbDtcclxuICAgICAgICBsZXQgcHJvY2Vzc2VkSW5hY3RpdmVJbnNlcnRpb25zID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xyXG4gICAgICAgICAgICBsZXQgY2xhc3NBdHRyaWJ1dGUgPSBcIlwiO1xyXG4gICAgICAgICAgICBsZXQgY2xhc3NlcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgYW5ub3RhdGlvbnMgPSB0aGlzLmFubm90YXRpb25zRm9yU2VnbWVudChzZWdtZW50KTtcclxuICAgICAgICAgICAgbGV0IGRlbGV0aW9uVGV4dCA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZEN1cnJlbnREZWxldGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRDdXJyZW50UGFnZUJyZWFrID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZEN1cnJlbnRMaW5lQnJlYWsgPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IGxpbmVCcmVha0Fubm90YXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgbGV0IHBhZ2VCcmVha0Fubm90YXRpb24gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFubm90YXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWN0aXZlSW5zZXJ0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGluYWN0aXZlSW5zZXJ0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlbWFpbmluZ0Fubm90YXRpb25zID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgYWN0aXZlRGVsZXRpb25zID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIGxlbiA9IGFubm90YXRpb25zLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFubm90YXRpb24gPSBhbm5vdGF0aW9uc1tqXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYW5ub3RhdGlvbi5pc0luc2VydGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5ub3RhdGlvbi51bmlxdWVJZCBpbiBhY3RpdmVBbm5vdGF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5zZXJ0aW9ucy5wdXNoKGFubm90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBmaXJzdCBpbmFjdGl2ZSBpbnNlcnRpb24gYXQgYSBwb3NpdGlvbiB3aWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiZSBzaG93biwgc28gb25seSBwcm9jZXNzIGZpcnN0IG9uZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG5lZWQgdG8gY2hlY2sgaWYgdGhlcmUgaXMgYW4gYWN0aXZlIGluc2VydGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXQgdGhlIHNhbWUgcGxhY2UuIElmIHNvLCBpZ25vcmUgaW5hY3RpdmUgaW5zZXJ0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcyB0aGV5IHNob3VsZCBiZSBzaG93biBpbiB0aGUgcG9wb3Zlci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFubm90YXRpb25LZXkgPSBhbm5vdGF0aW9uLnN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFwcm9jZXNzZWRJbmFjdGl2ZUluc2VydGlvbnMuaGFzT3duUHJvcGVydHkoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb25LZXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmFjdGl2ZUluc2VydGlvbnMucHVzaChhbm5vdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRJbmFjdGl2ZUluc2VydGlvbnNbYW5ub3RhdGlvbktleV0gPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFubm90YXRpb24uaXNEZWxldGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFubm90YXRpb24udW5pcXVlSWQgaW4gYWN0aXZlQW5ub3RhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVEZWxldGlvbnMucHVzaChhbm5vdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24udHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5wYWdlQnJlYWsgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFyZW5kZXJQcm9wcy5hY3RpdmVXaXRuZXNzLmlzV29ya2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VCcmVha0Fubm90YXRpb24gPSBhbm5vdGF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbi50eXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLmxpbmVCcmVhayAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIXJlbmRlclByb3BzLmFjdGl2ZVdpdG5lc3MuaXNXb3JraW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUJyZWFrQW5ub3RhdGlvbiA9IGFubm90YXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdBbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVJbnNlcnRpb25zLmxlbmd0aCA9PT0gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGluYWN0aXZlSW5zZXJ0aW9ucy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnNlcnRpb24gPSBpbmFjdGl2ZUluc2VydGlvbnNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5zZXJ0aW9uSWQgPSBpZEZvckluc2VydGlvbihzZWdtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0aW9uQ2xhc3NlcyA9IGluc2VydGlvbkNsYXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyUHJvcHMuYWN0aXZlQW5ub3RhdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJQcm9wcy5hY3RpdmVBbm5vdGF0aW9uLmlzSW5zZXJ0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlclByb3BzLmFjdGl2ZUFubm90YXRpb24uc3RhcnQgPT09IGluc2VydGlvbi5zdGFydFxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb25DbGFzc2VzICs9IFwiIFwiICsgc3R5bGVzLnNlbGVjdGVkQW5ub3RhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnRIVE1MICs9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPHNwYW4gaWQ9XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb25JZCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGtleT1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydGlvbklkICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJyBjbGFzcz1cIicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb25DbGFzc2VzICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ1wiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb24uY29udGVudCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVEZWxldGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZURlbGV0aW9uID0gYWN0aXZlRGVsZXRpb25zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VBbm5vdGF0aW9uID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyUHJvcHMuZ2V0QmFzZUFubm90YXRpb24oYWN0aXZlRGVsZXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0aW9uVGV4dCA9IGJhc2VBbm5vdGF0aW9uLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJQcm9wcy5hY3RpdmVBbm5vdGF0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlclByb3BzLmFjdGl2ZUFubm90YXRpb24uaXNEZWxldGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJQcm9wcy5hY3RpdmVBbm5vdGF0aW9uLnN0YXJ0ID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlRGVsZXRpb24uc3RhcnQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyUHJvcHMuYWN0aXZlQW5ub3RhdGlvbi5sZW5ndGggPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVEZWxldGlvbi5sZW5ndGggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudC5sZW5ndGggPT09IDBcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDdXJyZW50RGVsZXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFnZUJyZWFrQW5ub3RhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyUHJvcHMuYWN0aXZlQW5ub3RhdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJQcm9wcy5hY3RpdmVBbm5vdGF0aW9uLnVuaXF1ZUlkID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUJyZWFrQW5ub3RhdGlvbi51bmlxdWVJZFxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1cnJlbnRQYWdlQnJlYWsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobGluZUJyZWFrQW5ub3RhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyUHJvcHMuYWN0aXZlQW5ub3RhdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJQcm9wcy5hY3RpdmVBbm5vdGF0aW9uLnVuaXF1ZUlkID09PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUJyZWFrQW5ub3RhdGlvbi51bmlxdWVJZFxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEN1cnJlbnRMaW5lQnJlYWsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nQW5ub3RhdGlvbnMubGVuZ3RoID4gMCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUluc2VydGlvbnMubGVuZ3RoID4gMFxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKHN0eWxlcy5hbm5vdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSXQncyBhbiBpbnNlcnRpb24gYXQgdGhlIGVuZCBvZiB0aGUgdGV4dCwgd2hpY2ggc2hvdWxkIGhhdmUganVzdCBiZWVuIGFkZGVkIHRvIHRoZSBodG1sLlxyXG4gICAgICAgICAgICAvLyBTbyBicmVhayBhcyB3ZSBkb24ndCB3YW50IGFueW1vcmUgc2VnbWVudCBodG1sIGFkZGluZy5cclxuICAgICAgICAgICAgaWYgKHNlZ21lbnQuc3RhcnQgPT09IGVuZFBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGlkID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZCA9IGlkRm9yRGVsZXRlZFNlZ21lbnQoc2VnbWVudCk7XHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goc3R5bGVzLnJlbW92ZWRCeUFubm90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlbGV0aW9uVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQgPSBuZXcgVGV4dFNlZ21lbnQoc2VnbWVudC5zdGFydCwgZGVsZXRpb25UZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlkID0gaWRGb3JTZWdtZW50KHNlZ21lbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzQ29udGFpblNlZ21lbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyUHJvcHMuc2VsZWN0ZWRBbm5vdGF0ZWRTZWdtZW50cyxcclxuICAgICAgICAgICAgICAgICAgICBzZWdtZW50XHJcbiAgICAgICAgICAgICAgICApIHx8XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEN1cnJlbnREZWxldGlvblxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChzdHlsZXMuc2VsZWN0ZWRBbm5vdGF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgcmVuZGVyUHJvcHMuc2VsZWN0ZWRTb3VyY2VSYW5nZS5pbmNsdWRlcyhzZWdtZW50LnN0YXJ0KSAmJlxyXG4gICAgICAgICAgICAgICAgcmVuZGVyUHJvcHMuY29uZGl0aW9uXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0NsYXNzID1cclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJQcm9wcy50aGVtZS5wYWxldHRlLm1vZGUgPT09IFwibGlnaHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0eWxlcy5zZWxlY3RlZFJhbmdlbGlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzdHlsZXMuc2VsZWN0ZWRSYW5nZURhcms7XHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2gobmV3Q2xhc3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY2xhc3Nlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gY2xhc3NuYW1lcyguLi5jbGFzc2VzKTtcclxuICAgICAgICAgICAgICAgIGNsYXNzQXR0cmlidXRlID0gJ2NsYXNzPVwiJyArIGNsYXNzTmFtZSArICdcIic7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBzZWdtZW50Q29udGVudCA9IHNlZ21lbnQudGV4dDtcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBzZWFyY2ggcmVzdWx0IGhpZ2hsaWdodCBpZiByZXF1aXJlZC5cclxuICAgICAgICAgICAgaWYgKHJlbmRlclByb3BzLnNlYXJjaFN0cmluZ1Bvc2l0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlZ21lbnRTdGFydCA9IHNlZ21lbnQuc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSBzZWdtZW50U3RhcnQ7XHJcbiAgICAgICAgICAgICAgICBzZWdtZW50Q29udGVudCA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGhpZ2hsaWdodCA9IGhpZ2hsaWdodENsYXNzO1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclByb3BzLnNlbGVjdGVkU2VhcmNoUmVzdWx0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyUHJvcHMuc2VsZWN0ZWRTZWFyY2hSZXN1bHQuc3RhcnQgPD0gcG9zaXRpb24gJiZcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJQcm9wcy5zZWxlY3RlZFNlYXJjaFJlc3VsdC5zdGFydCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlclByb3BzLnNlbGVjdGVkU2VhcmNoUmVzdWx0Lmxlbmd0aCA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHQgPSBhY3RpdmVIaWdobGlnaHRDbGFzcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNlZ21lbnQudGV4dC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGFyID0gc2VnbWVudC50ZXh0LmNoYXJBdChqKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHNlZ21lbnRTdGFydCArIGo7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVNlYXJjaFJlc3VsdEVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgW3N0YXJ0LCBlbmRdID0gYWN0aXZlU2VhcmNoUmVzdWx0RW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudENvbnRlbnQgKz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCInICsgaGlnaGxpZ2h0ICsgJ1wiPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBlbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRDb250ZW50ICs9IGNoYXIgKyBcIjwvc3Bhbj5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNlYXJjaFJlc3VsdEVuZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaiA9PT0gc2VnbWVudC50ZXh0Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRDb250ZW50ICs9IGNoYXIgKyBcIjwvc3Bhbj5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRDb250ZW50ICs9IGNoYXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uIGluIHJlbmRlclByb3BzLnNlYXJjaFN0cmluZ1Bvc2l0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgW3N0YXJ0LCBlbmRdID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlclByb3BzLnNlYXJjaFN0cmluZ1Bvc2l0aW9uc1twb3NpdGlvbl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRDb250ZW50ICs9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCInICsgaGlnaGxpZ2h0ICsgJ1wiPicgKyBjaGFyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gc2VnbWVudC50ZXh0Lmxlbmd0aCAtIDEgfHwgcG9zaXRpb24gPT09IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudENvbnRlbnQgKz0gXCI8L3NwYW4+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVTZWFyY2hSZXN1bHRFbmQgPSBbc3RhcnQsIGVuZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50Q29udGVudCArPSBjaGFyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VnbWVudEhUTUwgKz1cclxuICAgICAgICAgICAgICAgIFwiPHNwYW4gaWQ9XCIgK1xyXG4gICAgICAgICAgICAgICAgaWQgK1xyXG4gICAgICAgICAgICAgICAgXCIga2V5PVwiICtcclxuICAgICAgICAgICAgICAgIGlkICtcclxuICAgICAgICAgICAgICAgIFwiIFwiICtcclxuICAgICAgICAgICAgICAgIGNsYXNzQXR0cmlidXRlICtcclxuICAgICAgICAgICAgICAgIFwiPlwiICtcclxuICAgICAgICAgICAgICAgIHNlZ21lbnRDb250ZW50ICtcclxuICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBhZ2VCcmVha0Fubm90YXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGxldCBwYWdlQnJlYWtDbGFzc2VzID0gW3N0eWxlcy5wYWdlQnJlYWtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ3VycmVudFBhZ2VCcmVhaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VCcmVha0NsYXNzZXMucHVzaChzdHlsZXMuc2VsZWN0ZWRBbm5vdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VCcmVha0NsYXNzQXR0cmlidXRlID1cclxuICAgICAgICAgICAgICAgICAgICAnIGNsYXNzPVwiJyArIHBhZ2VCcmVha0NsYXNzZXMuam9pbihcIiBcIikgKyAnXCIgJztcclxuICAgICAgICAgICAgICAgIHNlZ21lbnRIVE1MICs9XHJcbiAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBpZD1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgaWRGb3JQYWdlQnJlYWsoc2VnbWVudCkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiIGtleT1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgaWRGb3JQYWdlQnJlYWsoc2VnbWVudCkgK1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VCcmVha0NsYXNzQXR0cmlidXRlICtcclxuICAgICAgICAgICAgICAgICAgICBcIj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZUJyZWFrSWNvblN0cmluZyArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L3NwYW4+XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxpbmVCcmVha0Fubm90YXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGxldCBsaW5lQnJlYWtDbGFzc2VzID0gW3N0eWxlcy5saW5lQnJlYWtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ3VycmVudExpbmVCcmVhaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVCcmVha0NsYXNzZXMucHVzaChzdHlsZXMuc2VsZWN0ZWRBbm5vdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVCcmVha0NsYXNzQXR0cmlidXRlID1cclxuICAgICAgICAgICAgICAgICAgICAnIGNsYXNzPVwiJyArIGxpbmVCcmVha0NsYXNzZXMuam9pbihcIiBcIikgKyAnXCIgJztcclxuICAgICAgICAgICAgICAgIHNlZ21lbnRIVE1MICs9XHJcbiAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBpZD1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgaWRGb3JMaW5lQnJlYWsoc2VnbWVudCkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiIGtleT1cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgaWRGb3JMaW5lQnJlYWsoc2VnbWVudCkgK1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVCcmVha0NsYXNzQXR0cmlidXRlICtcclxuICAgICAgICAgICAgICAgICAgICBcIj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgUEFSQV9TWU1CT0wgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPC9zcGFuPlwiO1xyXG5cclxuICAgICAgICAgICAgICAgIHNlZ21lbnRIVE1MICs9ICc8L3A+PHAgY2xhc3M9XCInICsgdGV4dExpbmVDbGFzcyArICdcIj4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9yZW5kZXJlZFNlZ21lbnRzID0gc2VnbWVudHM7XHJcblxyXG4gICAgICAgIHNlZ21lbnRIVE1MICs9IFwiPC9wPlwiO1xyXG4gICAgICAgIGNvbnN0IGh0bWwgPSB7XHJcbiAgICAgICAgICAgIF9faHRtbDogc2VnbWVudEhUTUwsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gaHRtbDtcclxuICAgIH1cclxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHM6IFByb3BzLCBuZXh0U3RhdGU6IFN0YXRlKSB7XHJcbiAgICAgICAgY29uc3QgcmVuZGVyZWRIdG1sID0gdGhpcy5nZW5lcmF0ZUh0bWwobmV4dFByb3BzLCBuZXh0U3RhdGUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5mb250U2l6ZSAhPT0gbmV4dFByb3BzLmZvbnRTaXplKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkSHRtbCAmJlxyXG4gICAgICAgICAgICByZW5kZXJlZEh0bWwuX19odG1sID09PSB0aGlzLl9yZW5kZXJlZEh0bWwuX19odG1sXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlZEh0bWwgPSByZW5kZXJlZEh0bWw7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0QWxpZ25tZW50QnlJZCA9IHRoaXMucHJvcHMudGV4dEFsaWdubWVudEJ5SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBjbGFzc2VzID0gW3N0eWxlcy50ZXh0XTtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5yb3cgPT09IDApIHtcclxuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKHN0eWxlcy50ZXh0Rmlyc3RSb3cpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHZW5lcmF0ZSBIVE1MIG1hbnVhbGx5IGFzIGl0IGlzIG11Y2ggZmFzdGVyIHdoZW5cclxuICAgICAgICAvLyBjcmVhdGluZyBsYXJnZSBudW1iZXJzIG9mIGVsZW1lbnRzLCBzdWNoIGFzIHRoZXNlIHNwYW5zLlxyXG4gICAgICAgIGNvbnN0IGh0bWwgPSB0aGlzLl9yZW5kZXJlZEh0bWxcclxuICAgICAgICAgICAgPyB0aGlzLl9yZW5kZXJlZEh0bWxcclxuICAgICAgICAgICAgOiB0aGlzLmdlbmVyYXRlSHRtbCh0aGlzLnByb3BzLCB0aGlzLnN0YXRlKTtcclxuICAgICAgICBpZiAoIXRoaXMuX3JlbmRlcmVkSHRtbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlZEh0bWwgPSBodG1sO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRleHRDb250YWluZXJ9PlxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyguLi5jbGFzc2VzKX1cclxuICAgICAgICAgICAgICAgICAgICBpZD1cInRleHQxXCJcclxuICAgICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17aHRtbH1cclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogdGhpcy5wcm9wcy5mb250U2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJ2YXIoLS10aWJldGFuLWZvbnRzKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnQoZS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoVGhlbWUoVGV4dCk7XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNsYXNzbmFtZXMiLCJzdHlsZXMiLCJUZXh0U2VnbWVudCIsIklOU0VSVElPTl9LRVkiLCJERUxFVElPTl9LRVkiLCJQQUdFX0JSRUFLX0tFWSIsIkxJTkVfQlJFQUtfS0VZIiwiXyIsIlNlZ21lbnRlZFRleHQiLCJBbm5vdGF0aW9uIiwiV2l0bmVzcyIsIkFOTk9UQVRJT05fVFlQRVMiLCJHcmFwaGVtZVNwbGl0dGVyIiwiZmluZCIsIndpdGhUaGVtZSIsImlkRm9yU2VnbWVudCIsInNlZ21lbnQiLCJzdGFydCIsImlkRm9yRGVsZXRlZFNlZ21lbnQiLCJpZEZvckluc2VydGlvbiIsImlkRm9yUGFnZUJyZWFrIiwiZW5kIiwiaWRGb3JMaW5lQnJlYWsiLCJSZWFjdERPTVNlcnZlciIsIlBhZ2VCcmVha0ljb24iLCJQQVJBX1NZTUJPTCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhZ2VCcmVha0ljb25TdHJpbmciLCJyZW5kZXJUb1N0YXRpY01hcmt1cCIsIlRleHQiLCJwcm9wcyIsInRleHRBbGlnbm1lbnRCeUlkIiwic3RhdGUiLCJzZWdtZW50ZWRUZXh0IiwiX3JlbmRlcmVkU2VnbWVudHMiLCJfcmVuZGVyZWRIdG1sIiwicmFuZ2VTZWxlY3QiLCJ0aGVtZSIsIm5leHRQcm9wcyIsInNldFN0YXRlIiwicHJldlN0YXRlIiwiYW5ub3RhdGlvbnMiLCJmb3VuZEFubm90YXRpb25zIiwiYW5ub3RhdGlvblBvc2l0aW9ucyIsImluc2VydGlvbnMiLCJkZWxldGlvbnMiLCJwYWdlQnJlYWtzIiwibGluZUJyZWFrcyIsImNvbmNhdCIsInNlZ21lbnRzIiwiaSIsImxlbmd0aCIsImxpc3RTZWdtZW50IiwidGV4dCIsImVsZW1lbnQiLCJ0YWdOYW1lIiwic2VsZWN0ZWRTZWdtZW50SWQiLCJzb3VyY2VSYW5nZVNlbGVjdGlvbiIsInRhcmdldFJhbmdlU2VsZWN0aW9uIiwic2VsZWN0aW9uIiwiZG9jdW1lbnQiLCJnZXRTZWxlY3Rpb24iLCJjbGlja0lkIiwicGFyc2VJbnQiLCJpZCIsInJlcGxhY2UiLCJjaGFuZ2VTeW5jSWRPbkNsaWNrIiwiaW5jbHVkZXMiLCJjb25kaXRpb24iLCJjaGFuZ2VTY3JvbGxUb0lkIiwiZnJvbSIsInJhbmdlVW5pcXVlIiwibCIsInB1c2giLCJUU3RhcnQiLCJURW5kIiwiY2hhbmdlU2VsZWN0ZWRSYW5nZSIsInNvdXJjZSIsInRhcmdldCIsInR5cGUiLCJyZW5kZXJQcm9wcyIsInJlbmRlclN0YXRlIiwidGV4dExpbmVDbGFzcyIsInRleHRMaW5lIiwic2VnbWVudEhUTUwiLCJfX2h0bWwiLCJpbnNlcnRpb25DbGFzcyIsImluc2VydGlvbiIsImVuZFBvc2l0aW9uIiwiZW5kU2VnbWVudCIsImFjdGl2ZUFubm90YXRpb25zIiwiaGlnaGxpZ2h0Q2xhc3MiLCJoaWdobGlnaHQiLCJhY3RpdmVIaWdobGlnaHRDbGFzcyIsImFjdGl2ZUhpZ2hsaWdodCIsImFjdGl2ZVNlYXJjaFJlc3VsdEVuZCIsInByb2Nlc3NlZEluYWN0aXZlSW5zZXJ0aW9ucyIsImNsYXNzQXR0cmlidXRlIiwiY2xhc3NlcyIsImFubm90YXRpb25zRm9yU2VnbWVudCIsImRlbGV0aW9uVGV4dCIsInNlbGVjdGVkQ3VycmVudERlbGV0aW9uIiwic2VsZWN0ZWRDdXJyZW50UGFnZUJyZWFrIiwic2VsZWN0ZWRDdXJyZW50TGluZUJyZWFrIiwibGluZUJyZWFrQW5ub3RhdGlvbiIsInBhZ2VCcmVha0Fubm90YXRpb24iLCJhY3RpdmVJbnNlcnRpb25zIiwiaW5hY3RpdmVJbnNlcnRpb25zIiwicmVtYWluaW5nQW5ub3RhdGlvbnMiLCJhY3RpdmVEZWxldGlvbnMiLCJqIiwibGVuIiwiYW5ub3RhdGlvbiIsImlzSW5zZXJ0aW9uIiwidW5pcXVlSWQiLCJhbm5vdGF0aW9uS2V5IiwiaGFzT3duUHJvcGVydHkiLCJpc0RlbGV0aW9uIiwicGFnZUJyZWFrIiwiYWN0aXZlV2l0bmVzcyIsImlzV29ya2luZyIsImxpbmVCcmVhayIsImluc2VydGlvbklkIiwiaW5zZXJ0aW9uQ2xhc3NlcyIsImFjdGl2ZUFubm90YXRpb24iLCJzZWxlY3RlZEFubm90YXRpb24iLCJjb250ZW50IiwiYWN0aXZlRGVsZXRpb24iLCJiYXNlQW5ub3RhdGlvbiIsImdldEJhc2VBbm5vdGF0aW9uIiwicmVtb3ZlZEJ5QW5ub3RhdGlvbiIsInNlZ21lbnRzQ29udGFpblNlZ21lbnQiLCJzZWxlY3RlZEFubm90YXRlZFNlZ21lbnRzIiwic2VsZWN0ZWRTb3VyY2VSYW5nZSIsIm5ld0NsYXNzIiwicGFsZXR0ZSIsIm1vZGUiLCJzZWxlY3RlZFJhbmdlbGlnaHQiLCJzZWxlY3RlZFJhbmdlRGFyayIsImNsYXNzTmFtZSIsInNlZ21lbnRDb250ZW50Iiwic2VhcmNoU3RyaW5nUG9zaXRpb25zIiwic2VnbWVudFN0YXJ0IiwicG9zaXRpb24iLCJzZWxlY3RlZFNlYXJjaFJlc3VsdCIsImNoYXIiLCJjaGFyQXQiLCJwYWdlQnJlYWtDbGFzc2VzIiwicGFnZUJyZWFrQ2xhc3NBdHRyaWJ1dGUiLCJqb2luIiwibGluZUJyZWFrQ2xhc3NlcyIsImxpbmVCcmVha0NsYXNzQXR0cmlidXRlIiwiaHRtbCIsIm5leHRTdGF0ZSIsInJlbmRlcmVkSHRtbCIsImdlbmVyYXRlSHRtbCIsImZvbnRTaXplIiwicm93IiwidGV4dEZpcnN0Um93IiwidGV4dENvbnRhaW5lciIsImZvbnRGYW1pbHkiLCJlIiwic2VsZWN0ZWRFbGVtZW50IiwiQ29tcG9uZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/components/TextDetail/Text.js\n");

/***/ }),

/***/ "./app/lib/shallowEqual.js":
/*!*********************************!*\
  !*** ./app/lib/shallowEqual.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ shallowEqual)\n/* harmony export */ });\nfunction shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  var aKeys = Object.keys(objA);\n  var bKeys = Object.keys(objB);\n  var len = aKeys.length;\n\n  if (bKeys.length !== len) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    var key = aKeys[i];\n\n    if (objA[key] !== objB[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvbGliL3NoYWxsb3dFcXVhbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWUsU0FBU0EsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEJDLElBQTVCLEVBQWtDO0VBQzdDLElBQUlELElBQUksS0FBS0MsSUFBYixFQUFtQjtJQUNmLE9BQU8sSUFBUDtFQUNIOztFQUVELElBQUlDLEtBQUssR0FBR0MsTUFBTSxDQUFDQyxJQUFQLENBQVlKLElBQVosQ0FBWjtFQUNBLElBQUlLLEtBQUssR0FBR0YsTUFBTSxDQUFDQyxJQUFQLENBQVlILElBQVosQ0FBWjtFQUNBLElBQUlLLEdBQUcsR0FBR0osS0FBSyxDQUFDSyxNQUFoQjs7RUFFQSxJQUFJRixLQUFLLENBQUNFLE1BQU4sS0FBaUJELEdBQXJCLEVBQTBCO0lBQ3RCLE9BQU8sS0FBUDtFQUNIOztFQUVELEtBQUssSUFBSUUsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0YsR0FBcEIsRUFBeUJFLENBQUMsRUFBMUIsRUFBOEI7SUFDMUIsSUFBSUMsR0FBRyxHQUFHUCxLQUFLLENBQUNNLENBQUQsQ0FBZjs7SUFFQSxJQUFJUixJQUFJLENBQUNTLEdBQUQsQ0FBSixLQUFjUixJQUFJLENBQUNRLEdBQUQsQ0FBdEIsRUFBNkI7TUFDekIsT0FBTyxLQUFQO0lBQ0g7RUFDSjs7RUFFRCxPQUFPLElBQVA7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbWludXNjbGllbnQvLi9hcHAvbGliL3NoYWxsb3dFcXVhbC5qcz9kM2RkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XHJcbiAgICBpZiAob2JqQSA9PT0gb2JqQikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBhS2V5cyA9IE9iamVjdC5rZXlzKG9iakEpO1xyXG4gICAgbGV0IGJLZXlzID0gT2JqZWN0LmtleXMob2JqQik7XHJcbiAgICBsZXQgbGVuID0gYUtleXMubGVuZ3RoO1xyXG5cclxuICAgIGlmIChiS2V5cy5sZW5ndGggIT09IGxlbikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGtleSA9IGFLZXlzW2ldO1xyXG5cclxuICAgICAgICBpZiAob2JqQVtrZXldICE9PSBvYmpCW2tleV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG4iXSwibmFtZXMiOlsic2hhbGxvd0VxdWFsIiwib2JqQSIsIm9iakIiLCJhS2V5cyIsIk9iamVjdCIsImtleXMiLCJiS2V5cyIsImxlbiIsImxlbmd0aCIsImkiLCJrZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/lib/shallowEqual.js\n");

/***/ }),

/***/ "./app/images/lopenling_logo.png":
/*!***************************************!*\
  !*** ./app/images/lopenling_logo.png ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"8967124136190c7842d863e4a862a528.png\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvaW1hZ2VzL2xvcGVubGluZ19sb2dvLnBuZy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUscUJBQXVCLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbWludXNjbGllbnQvLi9hcHAvaW1hZ2VzL2xvcGVubGluZ19sb2dvLnBuZz83ZDAyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4OTY3MTI0MTM2MTkwYzc4NDJkODYzZTRhODYyYTUyOC5wbmdcIjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/images/lopenling_logo.png\n");

/***/ }),

/***/ "./app/components/TextDetail/SplitText.css":
/*!*************************************************!*\
  !*** ./app/components/TextDetail/SplitText.css ***!
  \*************************************************/
/***/ ((module) => {

eval("// extracted by mini-css-extract-plugin\nmodule.exports = {\"green-tint\":\"#88af8e\",\"blue-tint\":\"#024279\",\"active-button\":\"#00746b\",\"mainTint\":\"#024279\",\"activeButton\":\"#00746b\",\"inlineWidth\":\"280px\",\"annotationControls\":\"SplitText---annotationControls\",\"annotationContent\":\"SplitText---annotationContent\",\"subTitle\":\"SplitText---subTitle\",\"title\":\"SplitText---title\",\"sectionHeading\":\"SplitText---sectionHeading\",\"text\":\"SplitText---text\",\"padding\":\"SplitText---padding\",\"arrowTop\":\"SplitText---arrowTop\",\"arrowLeft\":\"SplitText---arrowLeft\",\"arrowRight\":\"SplitText---arrowRight\",\"inline\":\"SplitText---inline\",\"arrow\":\"SplitText---arrow\",\"arrowDs\":\"SplitText---arrowDs\",\"nothingSelected\":\"SplitText---nothingSelected\",\"anonymousMessage\":\"SplitText---anonymousMessage\",\"noNotes\":\"SplitText---noNotes\",\"breakButtons\":\"SplitText---breakButtons\",\"splitText\":\"SplitText---splitText\",\"splitTextRowContent\":\"SplitText---splitTextRowContent\",\"splitTextRow\":\"SplitText---splitTextRow\",\"pechaImage\":\"SplitText---pechaImage\",\"image\":\"SplitText---image\",\"controlsPlaceholder\":\"SplitText---controlsPlaceholder\",\"hide\":\"SplitText---hide\",\"pageNumber\":\"SplitText---pageNumber\",\"image-loading\":\"SplitText---image-loading\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvY29tcG9uZW50cy9UZXh0RGV0YWlsL1NwbGl0VGV4dC5jc3MuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1pbnVzY2xpZW50Ly4vYXBwL2NvbXBvbmVudHMvVGV4dERldGFpbC9TcGxpdFRleHQuY3NzPzJmODgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImdyZWVuLXRpbnRcIjpcIiM4OGFmOGVcIixcImJsdWUtdGludFwiOlwiIzAyNDI3OVwiLFwiYWN0aXZlLWJ1dHRvblwiOlwiIzAwNzQ2YlwiLFwibWFpblRpbnRcIjpcIiMwMjQyNzlcIixcImFjdGl2ZUJ1dHRvblwiOlwiIzAwNzQ2YlwiLFwiaW5saW5lV2lkdGhcIjpcIjI4MHB4XCIsXCJhbm5vdGF0aW9uQ29udHJvbHNcIjpcIlNwbGl0VGV4dC0tLWFubm90YXRpb25Db250cm9sc1wiLFwiYW5ub3RhdGlvbkNvbnRlbnRcIjpcIlNwbGl0VGV4dC0tLWFubm90YXRpb25Db250ZW50XCIsXCJzdWJUaXRsZVwiOlwiU3BsaXRUZXh0LS0tc3ViVGl0bGVcIixcInRpdGxlXCI6XCJTcGxpdFRleHQtLS10aXRsZVwiLFwic2VjdGlvbkhlYWRpbmdcIjpcIlNwbGl0VGV4dC0tLXNlY3Rpb25IZWFkaW5nXCIsXCJ0ZXh0XCI6XCJTcGxpdFRleHQtLS10ZXh0XCIsXCJwYWRkaW5nXCI6XCJTcGxpdFRleHQtLS1wYWRkaW5nXCIsXCJhcnJvd1RvcFwiOlwiU3BsaXRUZXh0LS0tYXJyb3dUb3BcIixcImFycm93TGVmdFwiOlwiU3BsaXRUZXh0LS0tYXJyb3dMZWZ0XCIsXCJhcnJvd1JpZ2h0XCI6XCJTcGxpdFRleHQtLS1hcnJvd1JpZ2h0XCIsXCJpbmxpbmVcIjpcIlNwbGl0VGV4dC0tLWlubGluZVwiLFwiYXJyb3dcIjpcIlNwbGl0VGV4dC0tLWFycm93XCIsXCJhcnJvd0RzXCI6XCJTcGxpdFRleHQtLS1hcnJvd0RzXCIsXCJub3RoaW5nU2VsZWN0ZWRcIjpcIlNwbGl0VGV4dC0tLW5vdGhpbmdTZWxlY3RlZFwiLFwiYW5vbnltb3VzTWVzc2FnZVwiOlwiU3BsaXRUZXh0LS0tYW5vbnltb3VzTWVzc2FnZVwiLFwibm9Ob3Rlc1wiOlwiU3BsaXRUZXh0LS0tbm9Ob3Rlc1wiLFwiYnJlYWtCdXR0b25zXCI6XCJTcGxpdFRleHQtLS1icmVha0J1dHRvbnNcIixcInNwbGl0VGV4dFwiOlwiU3BsaXRUZXh0LS0tc3BsaXRUZXh0XCIsXCJzcGxpdFRleHRSb3dDb250ZW50XCI6XCJTcGxpdFRleHQtLS1zcGxpdFRleHRSb3dDb250ZW50XCIsXCJzcGxpdFRleHRSb3dcIjpcIlNwbGl0VGV4dC0tLXNwbGl0VGV4dFJvd1wiLFwicGVjaGFJbWFnZVwiOlwiU3BsaXRUZXh0LS0tcGVjaGFJbWFnZVwiLFwiaW1hZ2VcIjpcIlNwbGl0VGV4dC0tLWltYWdlXCIsXCJjb250cm9sc1BsYWNlaG9sZGVyXCI6XCJTcGxpdFRleHQtLS1jb250cm9sc1BsYWNlaG9sZGVyXCIsXCJoaWRlXCI6XCJTcGxpdFRleHQtLS1oaWRlXCIsXCJwYWdlTnVtYmVyXCI6XCJTcGxpdFRleHQtLS1wYWdlTnVtYmVyXCIsXCJpbWFnZS1sb2FkaW5nXCI6XCJTcGxpdFRleHQtLS1pbWFnZS1sb2FkaW5nXCJ9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/components/TextDetail/SplitText.css\n");

/***/ }),

/***/ "./app/components/TextDetail/Text.css":
/*!********************************************!*\
  !*** ./app/components/TextDetail/Text.css ***!
  \********************************************/
/***/ ((module) => {

eval("// extracted by mini-css-extract-plugin\nmodule.exports = {\"green-tint\":\"#88af8e\",\"blue-tint\":\"#024279\",\"active-button\":\"#00746b\",\"mainTint\":\"#024279\",\"activeButton\":\"#00746b\",\"paddingSide\":\"20px\",\"maxWidth\":\"600px\",\"text\":\"Text---text\",\"syncIdClass\":\"Text---syncIdClass\",\"textFirstRow\":\"Text---textFirstRow\",\"textLine\":\"Text---textLine\",\"textline\":\"Text---textline\",\"limitWidth\":\"Text---limitWidth\",\"textContainer\":\"Text---textContainer\",\"annotation\":\"Text---annotation\",\"selectedAnnotation\":\"Text---selectedAnnotation\",\"removedByAnnotation\":\"Text---removedByAnnotation\",\"insertion\":\"Text---insertion\",\"highlight\":\"Text---highlight\",\"activeHighlight\":\"Text---activeHighlight\",\"lineBreak\":\"Text---lineBreak\",\"pageBreak\":\"Text---pageBreak\",\"selectedRangelight\":\"Text---selectedRangelight\",\"selectedRangeDark\":\"Text---selectedRangeDark\",\"selectedImage\":\"Text---selectedImage\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvY29tcG9uZW50cy9UZXh0RGV0YWlsL1RleHQuY3NzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0Esa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtaW51c2NsaWVudC8uL2FwcC9jb21wb25lbnRzL1RleHREZXRhaWwvVGV4dC5jc3M/OTQ1MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wiZ3JlZW4tdGludFwiOlwiIzg4YWY4ZVwiLFwiYmx1ZS10aW50XCI6XCIjMDI0Mjc5XCIsXCJhY3RpdmUtYnV0dG9uXCI6XCIjMDA3NDZiXCIsXCJtYWluVGludFwiOlwiIzAyNDI3OVwiLFwiYWN0aXZlQnV0dG9uXCI6XCIjMDA3NDZiXCIsXCJwYWRkaW5nU2lkZVwiOlwiMjBweFwiLFwibWF4V2lkdGhcIjpcIjYwMHB4XCIsXCJ0ZXh0XCI6XCJUZXh0LS0tdGV4dFwiLFwic3luY0lkQ2xhc3NcIjpcIlRleHQtLS1zeW5jSWRDbGFzc1wiLFwidGV4dEZpcnN0Um93XCI6XCJUZXh0LS0tdGV4dEZpcnN0Um93XCIsXCJ0ZXh0TGluZVwiOlwiVGV4dC0tLXRleHRMaW5lXCIsXCJ0ZXh0bGluZVwiOlwiVGV4dC0tLXRleHRsaW5lXCIsXCJsaW1pdFdpZHRoXCI6XCJUZXh0LS0tbGltaXRXaWR0aFwiLFwidGV4dENvbnRhaW5lclwiOlwiVGV4dC0tLXRleHRDb250YWluZXJcIixcImFubm90YXRpb25cIjpcIlRleHQtLS1hbm5vdGF0aW9uXCIsXCJzZWxlY3RlZEFubm90YXRpb25cIjpcIlRleHQtLS1zZWxlY3RlZEFubm90YXRpb25cIixcInJlbW92ZWRCeUFubm90YXRpb25cIjpcIlRleHQtLS1yZW1vdmVkQnlBbm5vdGF0aW9uXCIsXCJpbnNlcnRpb25cIjpcIlRleHQtLS1pbnNlcnRpb25cIixcImhpZ2hsaWdodFwiOlwiVGV4dC0tLWhpZ2hsaWdodFwiLFwiYWN0aXZlSGlnaGxpZ2h0XCI6XCJUZXh0LS0tYWN0aXZlSGlnaGxpZ2h0XCIsXCJsaW5lQnJlYWtcIjpcIlRleHQtLS1saW5lQnJlYWtcIixcInBhZ2VCcmVha1wiOlwiVGV4dC0tLXBhZ2VCcmVha1wiLFwic2VsZWN0ZWRSYW5nZWxpZ2h0XCI6XCJUZXh0LS0tc2VsZWN0ZWRSYW5nZWxpZ2h0XCIsXCJzZWxlY3RlZFJhbmdlRGFya1wiOlwiVGV4dC0tLXNlbGVjdGVkUmFuZ2VEYXJrXCIsXCJzZWxlY3RlZEltYWdlXCI6XCJUZXh0LS0tc2VsZWN0ZWRJbWFnZVwifTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/components/TextDetail/Text.css\n");

/***/ })

}]);